import { Flashcard, QuizQuestion, PracticeQuestion, MockExamDef, Module, BloomLevel } from '../types';

// --- COMPREHENSIVE MOCK DATABASE FOR IAS STANDARDS ---

const SAMPLE_FLASHCARDS_DB: Flashcard[] = [
  // --- IAS 1: Presentation of Financial Statements (m_ias1) ---
  { id: 'fc_ias1_01', moduleId: 'm_ias1', taxonomy: 'Remember', front: 'What comprises a complete set of financial statements?', back: 'SOFP, SPLOCI, SOCE, Cash Flows, Notes, Comparative info, and a 3rd SOFP (if retrospective application/restatement occurs).' },
  { id: 'fc_ias1_02', moduleId: 'm_ias1', taxonomy: 'Understand', front: 'What is the "Going Concern" assumption?', back: 'FS are prepared assuming the entity will continue in operation for at least 12 months. If not, must use break-up basis.' },
  { id: 'fc_ias1_03', moduleId: 'm_ias1', taxonomy: 'Apply', front: 'When is a liability classified as "Current"?', back: '1. Settled in normal operating cycle.\n2. Held for trading.\n3. Due within 12 months.\n4. No unconditional right to defer >12 months.' },
  { id: 'fc_ias1_04', moduleId: 'm_ias1', taxonomy: 'Analyze', front: 'Treatment of long-term loan with covenant breach at year-end?', back: 'Classify as CURRENT. Even if lender waives breach *after* year-end, the right to defer did not exist *at* year-end.' },
  { id: 'fc_ias1_05', moduleId: 'm_ias1', taxonomy: 'Remember', front: 'List 3 OCI items that are NEVER reclassified to P&L.', back: '1. Revaluation Surplus (IAS 16/38).\n2. Remeasurement of Defined Benefit Plans (IAS 19).\n3. FV changes in Equity Instruments (IFRS 9).' },
  { id: 'fc_ias1_06', moduleId: 'm_ias1', taxonomy: 'Apply', front: 'How are dividends on Redeemable Preference Shares presented?', back: 'In P&L as FINANCE COST (Interest), because the instrument is a Liability.' },
  { id: 'fc_ias1_07', moduleId: 'm_ias1', taxonomy: 'Evaluate', front: 'When is the "True and Fair Override" used?', back: 'Extremely rare cases where IFRS compliance misleads. Must disclose: nature of departure, reason, and financial impact.' },
  { id: 'fc_ias1_08', moduleId: 'm_ias1', taxonomy: 'Understand', front: 'Rules for offsetting Assets and Liabilities?', back: 'Not permitted unless required by a specific standard or reflecting the substance of the transaction.' },
  { id: 'fc_ias1_09', moduleId: 'm_ias1', taxonomy: 'Apply', front: 'Treatment of refinancing agreed AFTER the reporting period?', back: 'Disclose as non-adjusting event. Liability remains CURRENT at year-end.' },
  { id: 'fc_ias1_10', moduleId: 'm_ias1', taxonomy: 'Remember', front: 'Definition of Materiality?', back: 'Information is material if omitting/obscuring it could influence decisions of primary users. Depends on size and nature.' },

  // --- IAS 2: Inventories (m_ias2) ---
  { id: 'fc_ias2_01', moduleId: 'm_ias2', taxonomy: 'Remember', front: 'Measurement rule for Inventory?', back: 'Lower of Cost and Net Realizable Value (NRV).' },
  { id: 'fc_ias2_02', moduleId: 'm_ias2', taxonomy: 'Understand', front: 'Components of Inventory Cost?', back: 'Purchase price + Import duties + Transport/Handling + Conversion costs (Direct labor/overheads). Excludes refundable taxes.' },
  { id: 'fc_ias2_03', moduleId: 'm_ias2', taxonomy: 'Apply', front: 'How to allocate Fixed Production Overheads?', back: 'Based on NORMAL capacity of production facilities. Unallocated overheads are expensed.' },
  { id: 'fc_ias2_04', moduleId: 'm_ias2', taxonomy: 'Remember', front: 'Permitted Cost Formulas?', back: 'FIFO (First-In, First-Out) or Weighted Average. LIFO is PROHIBITED.' },
  { id: 'fc_ias2_05', moduleId: 'm_ias2', taxonomy: 'Analyze', front: 'Inventory bought on deferred settlement terms (e.g., interest-free credit)?', back: 'Recognize at cash price. Difference between paid amount and cash price is Interest Expense over the period.' },
  { id: 'fc_ias2_06', moduleId: 'm_ias2', taxonomy: 'Understand', front: 'Definition of NRV?', back: 'Estimated Selling Price less Estimated Costs of Completion less Estimated Costs to Sell.' },
  { id: 'fc_ias2_07', moduleId: 'm_ias2', taxonomy: 'Apply', front: 'Treatment of Abnormal Waste?', back: 'Excluded from cost of inventory. Recognized as expense in the period incurred.' },
  { id: 'fc_ias2_08', moduleId: 'm_ias2', taxonomy: 'Apply', front: 'Treatment of Storage Costs?', back: 'Expensed. Capitalized ONLY if necessary for the production process (e.g., maturing whisky).' },
  { id: 'fc_ias2_09', moduleId: 'm_ias2', taxonomy: 'Evaluate', front: 'Joint Products allocation?', back: 'Allocate conversion costs on rational/consistent basis (e.g., relative sales value at split-off).' },
  { id: 'fc_ias2_10', moduleId: 'm_ias2', taxonomy: 'Remember', front: 'Definition of Inventory (Service Provider)?', back: 'Labor and other costs of personnel directly engaged in providing the service (WIP).' },

  // --- IAS 7: Statement of Cash Flows (m_ias7) ---
  { id: 'fc_ias7_01', moduleId: 'm_ias7', taxonomy: 'Remember', front: 'Definition of Cash Equivalents?', back: 'Short-term, highly liquid investments convertible to known cash, insignificant risk of value change (<3 months).' },
  { id: 'fc_ias7_02', moduleId: 'm_ias7', taxonomy: 'Understand', front: 'Classification of Bank Overdrafts?', back: 'Included in Cash & Cash Equivalents if repayable on demand and part of cash management.' },
  { id: 'fc_ias7_03', moduleId: 'm_ias7', taxonomy: 'Apply', front: 'Classification of Interest Paid?', back: 'Operating OR Financing (Must be consistent). DipIFR often treats as Financing.' },
  { id: 'fc_ias7_04', moduleId: 'm_ias7', taxonomy: 'Apply', front: 'Classification of Dividends Received?', back: 'Operating OR Investing.' },
  { id: 'fc_ias7_05', moduleId: 'm_ias7', taxonomy: 'Analyze', front: 'Depreciation in Indirect Method?', back: 'Added back to Profit Before Tax (Non-cash expense).' },
  { id: 'fc_ias7_06', moduleId: 'm_ias7', taxonomy: 'Analyze', front: 'Profit/Loss on Disposal of PPE?', back: 'Removed from Operating (Non-cash adjustment). Cash proceeds shown in Investing.' },
  { id: 'fc_ias7_07', moduleId: 'm_ias7', taxonomy: 'Remember', front: 'Three headings of Cash Flow Statement?', back: '1. Operating Activities\n2. Investing Activities\n3. Financing Activities.' },
  { id: 'fc_ias7_08', moduleId: 'm_ias7', taxonomy: 'Apply', front: 'Treatment of Non-Cash Transactions (e.g., Share exchange)?', back: 'Excluded from Statement of Cash Flows. Disclosed in Notes.' },
  { id: 'fc_ias7_09', moduleId: 'm_ias7', taxonomy: 'Evaluate', front: 'Foreign Currency Cash Flows?', back: 'Recorded at exchange rate at date of cash flow. Unrealized FX gains/losses are NOT cash flows.' },
  { id: 'fc_ias7_10', moduleId: 'm_ias7', taxonomy: 'Understand', front: 'Taxes Paid classification?', back: 'Operating, unless specifically identified with Investing/Financing activities.' },

  // --- IAS 8: Policies, Estimates & Errors (m_ias8) ---
  { id: 'fc_ias8_01', moduleId: 'm_ias8', taxonomy: 'Remember', front: 'Definition of Accounting Policy?', back: 'Principles, bases, conventions, rules, and practices applied in preparing FS.' },
  { id: 'fc_ias8_02', moduleId: 'm_ias8', taxonomy: 'Understand', front: 'Treatment of Change in Accounting Policy?', back: 'Retrospective application. Adjust opening equity of earliest comparative period.' },
  { id: 'fc_ias8_03', moduleId: 'm_ias8', taxonomy: 'Understand', front: 'Treatment of Change in Accounting Estimate?', back: 'Prospective application. Recognize in P&L in current and future periods.' },
  { id: 'fc_ias8_04', moduleId: 'm_ias8', taxonomy: 'Analyze', front: 'Is changing Depreciation Method a Policy or Estimate change?', back: 'Change in ESTIMATE (re-assessment of consumption pattern). Prospective.' },
  { id: 'fc_ias8_05', moduleId: 'm_ias8', taxonomy: 'Analyze', front: 'Is changing Inventory method (FIFO to AVCO) a Policy or Estimate change?', back: 'Change in POLICY. Retrospective.' },
  { id: 'fc_ias8_06', moduleId: 'm_ias8', taxonomy: 'Remember', front: 'Treatment of Prior Period Errors?', back: 'Retrospective restatement of comparative figures.' },
  { id: 'fc_ias8_07', moduleId: 'm_ias8', taxonomy: 'Evaluate', front: 'When is a Policy change permitted?', back: '1. Required by IFRS.\n2. Results in reliable and more relevant information.' },
  { id: 'fc_ias8_08', moduleId: 'm_ias8', taxonomy: 'Apply', front: 'Impracticable to determine period-specific effects?', back: 'Apply change to the earliest period for which it is practicable.' },
  { id: 'fc_ias8_09', moduleId: 'm_ias8', taxonomy: 'Understand', front: 'Hierarchy for selecting policies (if no IFRS applies)?', back: '1. IFRS on similar issues.\n2. Conceptual Framework.\n3. Other setters (if consistent).' },
  { id: 'fc_ias8_10', moduleId: 'm_ias8', taxonomy: 'Remember', front: 'Disclosure for new IFRS issued but not effective?', back: 'Fact that it\'s not applied, and known/estimable relevant information on impact.' },

  // --- IAS 10: Events After Reporting Period (m_ias10) ---
  { id: 'fc_ias10_01', moduleId: 'm_ias10', taxonomy: 'Remember', front: 'Definition of Adjusting Event?', back: 'Events providing evidence of conditions that EXISTED at the reporting date.' },
  { id: 'fc_ias10_02', moduleId: 'm_ias10', taxonomy: 'Remember', front: 'Definition of Non-adjusting Event?', back: 'Events indicative of conditions that arose AFTER the reporting date.' },
  { id: 'fc_ias10_03', moduleId: 'm_ias10', taxonomy: 'Apply', front: 'Dividend declared after year-end?', back: 'Non-adjusting. Do NOT recognize liability. Disclose in notes.' },
  { id: 'fc_ias10_04', moduleId: 'm_ias10', taxonomy: 'Analyze', front: 'Customer bankruptcy after year-end (balance overdue at YE)?', back: 'Adjusting. Confirms asset was impaired at reporting date.' },
  { id: 'fc_ias10_05', moduleId: 'm_ias10', taxonomy: 'Apply', front: 'Fire destroying inventory after year-end?', back: 'Non-adjusting. Disclose nature and financial effect.' },
  { id: 'fc_ias10_06', moduleId: 'm_ias10', taxonomy: 'Analyze', front: 'Sale of inventory below cost after year-end?', back: 'Adjusting. Provides evidence of NRV at reporting date.' },
  { id: 'fc_ias10_07', moduleId: 'm_ias10', taxonomy: 'Evaluate', front: 'Going Concern deterioration after year-end?', back: 'Adjusting. If not Going Concern, restate FS to break-up basis.' },
  { id: 'fc_ias10_08', moduleId: 'm_ias10', taxonomy: 'Apply', front: 'Discovery of fraud/error showing incorrect FS?', back: 'Adjusting event.' },
  { id: 'fc_ias10_09', moduleId: 'm_ias10', taxonomy: 'Apply', front: 'Court case settlement after YE (confirming obligation)?', back: 'Adjusting event. Adjust provision.' },
  { id: 'fc_ias10_10', moduleId: 'm_ias10', taxonomy: 'Remember', front: 'What is the date of authorization?', back: 'The date FS are authorized for issue (Cut-off point for IAS 10 events).' },

  // --- IAS 12: Income Taxes (m_ias12) ---
  { id: 'fc_ias12_01', moduleId: 'm_ias12', taxonomy: 'Remember', front: 'Definition of Tax Base (Asset)?', back: 'Amount deductible for tax purposes against any future taxable economic benefits.' },
  { id: 'fc_ias12_02', moduleId: 'm_ias12', taxonomy: 'Remember', front: 'Definition of Tax Base (Liability)?', back: 'Carrying amount less any amount deductible for tax purposes in respect of that liability in future periods.' },
  { id: 'fc_ias12_03', moduleId: 'm_ias12', taxonomy: 'Understand', front: 'Taxable Temporary Difference leads to?', back: 'Deferred Tax Liability (DTL). (Rule: CA > TB for Asset).' },
  { id: 'fc_ias12_04', moduleId: 'm_ias12', taxonomy: 'Understand', front: 'Deductible Temporary Difference leads to?', back: 'Deferred Tax Asset (DTA). (Rule: CA < TB for Asset).' },
  { id: 'fc_ias12_05', moduleId: 'm_ias12', taxonomy: 'Apply', front: 'Accounting for DTL on Asset Revaluation?', back: 'Charge to OCI (Revaluation Surplus). Does not affect P&L.' },
  { id: 'fc_ias12_06', moduleId: 'm_ias12', taxonomy: 'Analyze', front: 'Recognition of DTA for unused tax losses?', back: 'Recognize only to the extent that it is PROBABLE future taxable profit will be available.' },
  { id: 'fc_ias12_07', moduleId: 'm_ias12', taxonomy: 'Remember', front: 'Initial Recognition Exemption?', back: 'No DTL/DTA on initial recognition of asset/liab if: Not a business combination AND affects neither accounting nor taxable profit.' },
  { id: 'fc_ias12_08', moduleId: 'm_ias12', taxonomy: 'Evaluate', front: 'Tax rate used for measurement?', back: 'Rates enacted or substantively enacted by the reporting date, expected to apply when asset is realized.' },
  { id: 'fc_ias12_09', moduleId: 'm_ias12', taxonomy: 'Understand', front: 'Conditions for offsetting current tax assets/liabilities?', back: 'Legally enforceable right to set off AND intention to settle net.' },
  { id: 'fc_ias12_10', moduleId: 'm_ias12', taxonomy: 'Apply', front: 'Tax consequence of dividends?', back: 'Recognized in P&L, OCI or Equity depending on where the past transaction that generated distributable profits was recognized.' },

  // --- IAS 16: Property, Plant and Equipment (m_ias16) ---
  { id: 'fc_ias16_01', moduleId: 'm_ias16', taxonomy: 'Remember', front: 'Elements of PPE Cost?', back: 'Purchase price + Import duties + Directly attributable costs (Site prep, Install, Testing) + Dismantling estimate.' },
  { id: 'fc_ias16_02', moduleId: 'm_ias16', taxonomy: 'Apply', front: 'Treatment of Staff Training costs for new machine?', back: 'Expense in P&L. Not an asset as entity cannot control staff.' },
  { id: 'fc_ias16_03', moduleId: 'm_ias16', taxonomy: 'Understand', front: 'Revaluation Model frequency?', back: 'Sufficient regularity so Carrying Amount does not differ materially from Fair Value.' },
  { id: 'fc_ias16_04', moduleId: 'm_ias16', taxonomy: 'Apply', front: 'Accounting for Revaluation Gain?', back: 'Credit OCI (Revaluation Surplus). Exception: Credit P&L if reversing previous reval loss on same asset.' },
  { id: 'fc_ias16_05', moduleId: 'm_ias16', taxonomy: 'Apply', front: 'Accounting for Revaluation Loss?', back: 'Debit P&L. Exception: Debit OCI if reversing previous surplus on same asset.' },
  { id: 'fc_ias16_06', moduleId: 'm_ias16', taxonomy: 'Analyze', front: 'Depreciation of Revalued Asset?', back: 'Depreciable amount is the Revalued Amount. Charge to P&L.' },
  { id: 'fc_ias16_07', moduleId: 'm_ias16', taxonomy: 'Evaluate', front: 'Componentization rule?', back: 'Each part of an item of PPE with a cost significant to total cost must be depreciated separately (e.g. Jet Engine vs Body).' },
  { id: 'fc_ias16_08', moduleId: 'm_ias16', taxonomy: 'Remember', front: 'When does depreciation start?', back: 'When asset is available for use (location and condition necessary for operation).' },
  { id: 'fc_ias16_09', moduleId: 'm_ias16', taxonomy: 'Apply', front: 'Subsequent expenditure (e.g. Overhaul)?', back: 'Capitalize if it enhances economic benefits. Derecognize carrying amount of replaced parts.' },
  { id: 'fc_ias16_10', moduleId: 'm_ias16', taxonomy: 'Understand', front: 'Measurement of asset exchange?', back: 'Fair Value, unless transaction lacks commercial substance (then use Carrying Amount of asset given up).' },

  // --- IAS 19: Employee Benefits (m_ias19) ---
  { id: 'fc_ias19_01', moduleId: 'm_ias19', taxonomy: 'Remember', front: 'Measurement of Short-term benefits?', back: 'Undiscounted basis (e.g. Wages, Annual Leave).' },
  { id: 'fc_ias19_02', moduleId: 'm_ias19', taxonomy: 'Understand', front: 'Key difference: DC vs DB Plan?', back: 'DC: Risk with employee (Entity pays fixed contrib). DB: Risk with entity (Entity promises specific benefit).' },
  { id: 'fc_ias19_03', moduleId: 'm_ias19', taxonomy: 'Apply', front: 'Net Defined Benefit Liability formula?', back: 'PV of Defined Benefit Obligation minus Fair Value of Plan Assets.' },
  { id: 'fc_ias19_04', moduleId: 'm_ias19', taxonomy: 'Apply', front: 'Accounting for Past Service Cost?', back: 'Expense in P&L immediately (Change in obligation due to plan amendment).' },
  { id: 'fc_ias19_05', moduleId: 'm_ias19', taxonomy: 'Remember', front: 'Accounting for Actuarial Gains/Losses?', back: 'Recognize in OCI (Remeasurements). Never recycled to P&L.' },
  { id: 'fc_ias19_06', moduleId: 'm_ias19', taxonomy: 'Analyze', front: 'Net Interest component?', back: 'Net Liability/Asset * Discount Rate. Recognized in P&L.' },
  { id: 'fc_ias19_07', moduleId: 'm_ias19', taxonomy: 'Evaluate', front: 'Asset Ceiling test?', back: 'Net Asset is limited to PV of economic benefits available (refunds/reductions in contributions).' },
  { id: 'fc_ias19_08', moduleId: 'm_ias19', taxonomy: 'Understand', front: 'Termination Benefits recognition?', back: 'Earlier of: When entity can no longer withdraw offer OR When restructuring provision is recognized.' },
  { id: 'fc_ias19_09', moduleId: 'm_ias19', taxonomy: 'Apply', front: 'Settlement of DB Plan?', back: 'Difference between Settlement Price and PV of Obligation is Gain/Loss in P&L.' },
  { id: 'fc_ias19_10', moduleId: 'm_ias19', taxonomy: 'Remember', front: 'Discount rate basis?', back: 'Market yields on High Quality Corporate Bonds (or Govt bonds if no deep market) at reporting date.' },

  // --- IAS 20: Government Grants (m_ias20) ---
  { id: 'fc_ias20_01', moduleId: 'm_ias20', taxonomy: 'Remember', front: 'Recognition Criteria?', back: 'Reasonable assurance that: 1. Entity will comply with conditions. 2. Grant will be received.' },
  { id: 'fc_ias20_02', moduleId: 'm_ias20', taxonomy: 'Apply', front: 'Presentation of Grant related to Assets?', back: 'Either: 1. Deduct from Cost of Asset. 2. Recognize as Deferred Income and amortize.' },
  { id: 'fc_ias20_03', moduleId: 'm_ias20', taxonomy: 'Apply', front: 'Presentation of Grant related to Income?', back: 'Either: 1. Other Income. 2. Deduct from related expense.' },
  { id: 'fc_ias20_04', moduleId: 'm_ias20', taxonomy: 'Understand', front: 'Non-monetary grant (e.g. Land)?', back: 'Usually measured at Fair Value.' },
  { id: 'fc_ias20_05', moduleId: 'm_ias20', taxonomy: 'Apply', front: 'Grant for past expenses (financial support)?', back: 'Recognize in P&L immediately when receivable.' },
  { id: 'fc_ias20_06', moduleId: 'm_ias20', taxonomy: 'Analyze', front: 'Repayment of Grant?', back: 'Change in Accounting Estimate. Adjust Deferred Income balance or Asset Carrying Amount. Excess to P&L.' },
  { id: 'fc_ias20_07', moduleId: 'm_ias20', taxonomy: 'Evaluate', front: 'Forgivable Loans?', back: 'Treated as government grant when there is reasonable assurance terms for forgiveness will be met.' },
  { id: 'fc_ias20_08', moduleId: 'm_ias20', taxonomy: 'Analyze', front: 'Below-market interest rate loan?', back: 'Benefit is a grant. Measured as difference between Cash Received and Fair Value of loan (PV of future payments).' },
  { id: 'fc_ias20_09', moduleId: 'm_ias20', taxonomy: 'Remember', front: 'Required Disclosures?', back: 'Accounting policy adopted, nature and extent of grants, unfulfilled conditions.' },
  { id: 'fc_ias20_10', moduleId: 'm_ias20', taxonomy: 'Apply', front: 'Grant conditional on 5-year operation?', back: 'Match grant income in P&L over the 5-year period (matching costs).' },

  // --- IAS 24: Related Party Disclosures (m_ias24) ---
  { id: 'fc_ias24_01', moduleId: 'm_ias24', taxonomy: 'Remember', front: 'Definition of Related Party (Control)?', back: 'Person/Entity that has Control, Joint Control, or Significant Influence over reporting entity.' },
  { id: 'fc_ias24_02', moduleId: 'm_ias24', taxonomy: 'Remember', front: 'Who are Key Management Personnel (KMP)?', back: 'Persons having authority/responsibility for planning/directing activities (Directors + Senior Execs).' },
  { id: 'fc_ias24_03', moduleId: 'm_ias24', taxonomy: 'Understand', front: 'Are Close Family Members related parties?', back: 'Yes, if they may be expected to influence, or be influenced by, that person (Spouse, Children, Dependents).' },
  { id: 'fc_ias24_04', moduleId: 'm_ias24', taxonomy: 'Apply', front: 'Are two entities related if they have a common director?', back: 'Not automatically. Only if the director controls/jointly controls both, or significantly influences one while controlling the other.' },
  { id: 'fc_ias24_05', moduleId: 'm_ias24', taxonomy: 'Analyze', front: 'Government-related entities exemption?', back: 'Exempt from detailed transaction disclosure. Must disclose name of govt and nature of relationship.' },
  { id: 'fc_ias24_06', moduleId: 'm_ias24', taxonomy: 'Evaluate', front: 'Disclosure of "Arms-length" terms?', back: 'Statement that transactions were arms-length is made ONLY if it can be substantiated.' },
  { id: 'fc_ias24_07', moduleId: 'm_ias24', taxonomy: 'Remember', front: 'Is a Post-employment benefit plan a related party?', back: 'Yes.' },
  { id: 'fc_ias24_08', moduleId: 'm_ias24', taxonomy: 'Apply', front: 'Entity providing KMP services (Management Entity)?', back: 'Is a Related Party. Amounts paid to this entity must be disclosed.' },
  { id: 'fc_ias24_09', moduleId: 'm_ias24', taxonomy: 'Understand', front: 'Subsidiaries and Associates?', back: 'Are related parties to the Parent and to each other (Group members).' },
  { id: 'fc_ias24_10', moduleId: 'm_ias24', taxonomy: 'Analyze', front: 'Economic dependence (e.g. Major Customer)?', back: 'Does NOT create a related party relationship by itself.' },

  // --- IAS 27: Separate Financial Statements (m_ias27) ---
  { id: 'fc_ias27_01', moduleId: 'm_ias27', taxonomy: 'Remember', front: 'Definition of Separate Financial Statements?', back: 'FS presented by an entity in which the entity could elect to account for investments in subs/associates/JVs at cost, FV or equity method.' },
  { id: 'fc_ias27_02', moduleId: 'm_ias27', taxonomy: 'Understand', front: 'Allowed measurement methods for investments in Separate FS?', back: '1. At Cost.\n2. At Fair Value (IFRS 9).\n3. Equity Method (IAS 28).' },
  { id: 'fc_ias27_03', moduleId: 'm_ias27', taxonomy: 'Apply', front: 'Accounting for dividends received (Cost Method)?', back: 'Recognized in Profit or Loss when right to receive is established.' },
  { id: 'fc_ias27_04', moduleId: 'm_ias27', taxonomy: 'Remember', front: 'Are Separate FS mandatory under IFRS?', back: 'No. They are additional to consolidated FS, or required by local regulations.' },
  { id: 'fc_ias27_05', moduleId: 'm_ias27', taxonomy: 'Analyze', front: 'Investment Entity requirement?', back: 'Must NOT present consolidated FS. Must measure investments in subs at Fair Value through P&L.' },
  { id: 'fc_ias27_06', moduleId: 'm_ias27', taxonomy: 'Apply', front: 'Classification of investment held for sale in Separate FS?', back: 'Account for in accordance with IFRS 5 (if cost/equity method used) or continue IFRS 9 (if FV method used).' },
  { id: 'fc_ias27_07', moduleId: 'm_ias27', taxonomy: 'Understand', front: 'Relationship between Consolidated and Separate FS?', back: 'Separate FS focus on the parent\'s legal entity performance. Consolidated FS show the group as a single economic entity.' },
  { id: 'fc_ias27_08', moduleId: 'm_ias27', taxonomy: 'Evaluate', front: 'Choosing Equity Method in Separate FS?', back: 'Provides consistency with Investor\'s share of net assets, but complex to maintain alongside Cost method records.' },
  { id: 'fc_ias27_09', moduleId: 'm_ias27', taxonomy: 'Analyze', front: 'Transaction costs under Cost vs FV method?', back: 'Cost Method: Capitalize. FV Method: Expense (usually, unless FVTOCI).' },
  { id: 'fc_ias27_10', moduleId: 'm_ias27', taxonomy: 'Remember', front: 'Disclosure of significant investments?', back: 'Must list significant investments, their country of incorporation, and ownership interest.' },

  // --- IAS 28: Investments in Associates and Joint Ventures (m_ias28) ---
  { id: 'fc_ias28_01', moduleId: 'm_ias28', taxonomy: 'Remember', front: 'Definition of Associate?', back: 'Entity over which the investor has Significant Influence.' },
  { id: 'fc_ias28_02', moduleId: 'm_ias28', taxonomy: 'Understand', front: 'Key indicators of Significant Influence?', back: '1. 20%-50% voting power (rebuttable).\n2. Board representation.\n3. Participation in policy-making.' },
  { id: 'fc_ias28_03', moduleId: 'm_ias28', taxonomy: 'Apply', front: 'Initial Measurement of Associate?', back: 'At Cost (Purchase price + Transaction costs).' },
  { id: 'fc_ias28_04', moduleId: 'm_ias28', taxonomy: 'Apply', front: 'Equity Method Mechanics?', back: 'Investment = Cost + Share of Post-Acquisition Profits/OCI - Dividends Received - Impairment.' },
  { id: 'fc_ias28_05', moduleId: 'm_ias28', taxonomy: 'Analyze', front: 'Treatment of "Upstream" transaction (Associate to Investor)?', back: 'Eliminate unrealized profit in Investor\'s share (Reduce Investment and Profit Share).' },
  { id: 'fc_ias28_06', moduleId: 'm_ias28', taxonomy: 'Analyze', front: 'Losses exceeding Investment carrying amount?', back: 'Stop recognizing losses when investment hits zero, unless investor has legal/constructive obligation to make payments.' },
  { id: 'fc_ias28_07', moduleId: 'm_ias28', taxonomy: 'Remember', front: 'Impairment testing of Associate?', back: 'Tested as a SINGLE asset (Goodwill is not tested separately) when indicators exist.' },
  { id: 'fc_ias28_08', moduleId: 'm_ias28', taxonomy: 'Evaluate', front: 'Venture Capital Organization exemption?', back: 'Can elect to measure investments in associates at FVTPL (IFRS 9) instead of Equity Method.' },
  { id: 'fc_ias28_09', moduleId: 'm_ias28', taxonomy: 'Understand', front: 'Different reporting dates?', back: 'Allowed max 3 months difference. Adjust for significant transactions in the gap.' },
  { id: 'fc_ias28_10', moduleId: 'm_ias28', taxonomy: 'Apply', front: 'Acquisition of Associate in stages?', back: 'Remeasure existing interest to Fair Value through P&L if status changes from "Financial Asset" to "Associate".' },

  // --- IAS 32: Financial Instruments: Presentation (m_ias32) ---
  { id: 'fc_ias32_01', moduleId: 'm_ias32', taxonomy: 'Remember', front: 'Definition of Financial Liability?', back: 'Contractual obligation to deliver cash/financial asset OR exchange instruments under potentially unfavorable terms.' },
  { id: 'fc_ias32_02', moduleId: 'm_ias32', taxonomy: 'Understand', front: 'Definition of Equity Instrument?', back: 'Contract evidencing residual interest in assets after deducting all liabilities.' },
  { id: 'fc_ias32_03', moduleId: 'm_ias32', taxonomy: 'Apply', front: 'Redeemable Preference Shares classification?', back: 'Financial Liability (Obligation to repay).' },
  { id: 'fc_ias32_04', moduleId: 'm_ias32', taxonomy: 'Analyze', front: 'Compound Instrument (e.g. Convertible Bond) treatment?', back: 'Split accounting. Liability component = PV of future cash flows. Equity component = Residual (Proceeds - Liability).' },
  { id: 'fc_ias32_05', moduleId: 'm_ias32', taxonomy: 'Remember', front: 'Treatment of Treasury Shares?', back: 'Deducted from Equity. No gain/loss recognized on purchase, sale, or cancellation.' },
  { id: 'fc_ias32_06', moduleId: 'm_ias32', taxonomy: 'Apply', front: 'Dividends on Liability-classified instruments?', back: 'Recognized as Interest Expense in P&L.' },
  { id: 'fc_ias32_07', moduleId: 'm_ias32', taxonomy: 'Evaluate', front: 'Offsetting Financial Asset and Liability?', back: 'Only if: 1. Current legally enforceable right to set off. 2. Intention to settle net or simultaneous realization.' },
  { id: 'fc_ias32_08', moduleId: 'm_ias32', taxonomy: 'Understand', front: 'Costs of issuing equity?', back: 'Deducted from Equity (net of tax).' },
  { id: 'fc_ias32_09', moduleId: 'm_ias32', taxonomy: 'Apply', front: 'Mandatorily Redeemable Shares?', back: 'Liability. The issuer does not have an unconditional right to avoid delivering cash.' },
  { id: 'fc_ias32_10', moduleId: 'm_ias32', taxonomy: 'Analyze', front: 'Contingent settlement provision?', back: 'Financial Liability, unless the event is liquidation or extremely rare/not genuine.' },

  // --- IAS 33: Earnings per Share (m_ias33) ---
  { id: 'fc_ias33_01', moduleId: 'm_ias33', taxonomy: 'Remember', front: 'Basic EPS Formula?', back: 'Profit/Loss attributable to Ordinary Shareholders / Weighted Average Number of Shares (WANS).' },
  { id: 'fc_ias33_02', moduleId: 'm_ias33', taxonomy: 'Understand', front: 'Objective of Diluted EPS?', back: 'To show the maximum potential reduction in EPS if all dilutive potential ordinary shares were exercised.' },
  { id: 'fc_ias33_03', moduleId: 'm_ias33', taxonomy: 'Apply', front: 'Treatment of Bonus Issue in WANS?', back: 'Treated as if issued at start of earliest period presented. Apply Bonus Factor to all prior periods.' },
  { id: 'fc_ias33_04', moduleId: 'm_ias33', taxonomy: 'Apply', front: 'Treatment of Rights Issue?', back: 'Adjust for bonus element. Bonus Fraction = FV cum-rights / Theoretical Ex-rights Price (TERP).' },
  { id: 'fc_ias33_05', moduleId: 'm_ias33', taxonomy: 'Analyze', front: 'Diluted EPS: Convertible Bonds?', back: 'Add back post-tax interest to Numerator. Add potential shares to Denominator.' },
  { id: 'fc_ias33_06', moduleId: 'm_ias33', taxonomy: 'Analyze', front: 'Diluted EPS: Share Options?', back: 'Add only "Free Shares" to Denominator. (Number of shares - (Number * Exercise Price / Average Market Price)).' },
  { id: 'fc_ias33_07', moduleId: 'm_ias33', taxonomy: 'Evaluate', front: 'Antidilutive instruments?', back: 'Ignored in Diluted EPS calculation. Only instruments that decrease EPS (or increase loss per share) are included.' },
  { id: 'fc_ias33_08', moduleId: 'm_ias33', taxonomy: 'Remember', front: 'Scope of IAS 33?', back: 'Entities whose ordinary shares are traded in a public market.' },
  { id: 'fc_ias33_09', moduleId: 'm_ias33', taxonomy: 'Apply', front: 'Full Market Price Issue during year?', back: 'Time-weight from the date of issue.' },
  { id: 'fc_ias33_10', moduleId: 'm_ias33', taxonomy: 'Understand', front: 'Presentation requirements?', back: 'Present Basic and Diluted EPS on face of SPLOCI. For discontinuing ops, can be in notes.' },

  // --- IAS 36: Impairment of Assets (m_ias36) ---
  { id: 'fc_ias36_01', moduleId: 'm_ias36', taxonomy: 'Remember', front: 'Definition of Impairment Loss?', back: 'Amount by which Carrying Amount exceeds Recoverable Amount.' },
  { id: 'fc_ias36_02', moduleId: 'm_ias36', taxonomy: 'Remember', front: 'Definition of Recoverable Amount?', back: 'Higher of: 1. Fair Value less Costs of Disposal. 2. Value in Use (VIU).' },
  { id: 'fc_ias36_03', moduleId: 'm_ias36', taxonomy: 'Understand', front: 'What is Value in Use (VIU)?', back: 'Present Value of future cash flows expected to be derived from an asset or CGU.' },
  { id: 'fc_ias36_04', moduleId: 'm_ias36', taxonomy: 'Apply', front: 'Order of allocation of Impairment Loss in a CGU?', back: '1. Specific Assets (if obvious). 2. Goodwill. 3. Pro-rata to other assets.' },
  { id: 'fc_ias36_05', moduleId: 'm_ias36', taxonomy: 'Analyze', front: 'Reversal of Goodwill Impairment?', back: 'PROHIBITED. Once impaired, Goodwill cannot be written back up.' },
  { id: 'fc_ias36_06', moduleId: 'm_ias36', taxonomy: 'Evaluate', front: 'External indicators of impairment?', back: 'Decline in market value, increase in interest rates, changes in technology/market/law.' },
  { id: 'fc_ias36_07', moduleId: 'm_ias36', taxonomy: 'Remember', front: 'Assets requiring ANNUAL impairment test?', back: '1. Goodwill. 2. Intangibles with indefinite useful lives. 3. Intangibles not yet available for use.' },
  { id: 'fc_ias36_08', moduleId: 'm_ias36', taxonomy: 'Apply', front: 'Cash flows to EXCLUDE from VIU?', back: 'Financing activities, Tax receipts/payments, Future restructuring not yet committed, Enhancements.' },
  { id: 'fc_ias36_09', moduleId: 'm_ias36', taxonomy: 'Understand', front: 'Definition of Cash Generating Unit (CGU)?', back: 'Smallest identifiable group of assets that generates cash inflows largely independent of others.' },
  { id: 'fc_ias36_10', moduleId: 'm_ias36', taxonomy: 'Apply', front: 'Depreciation after impairment?', back: 'Revised Carrying Amount is depreciated over remaining useful life.' },

  // --- IAS 37: Provisions, Contingent Liabilities and Contingent Assets (m_ias37) ---
  { id: 'fc_ias37_01', moduleId: 'm_ias37', taxonomy: 'Remember', front: 'Definition of Provision?', back: 'A liability of uncertain timing or amount.' },
  { id: 'fc_ias37_02', moduleId: 'm_ias37', taxonomy: 'Understand', front: 'Recognition Criteria for Provision?', back: '1. Present obligation (legal/constructive) from past event.\n2. Probable outflow.\n3. Reliable estimate.' },
  { id: 'fc_ias37_03', moduleId: 'm_ias37', taxonomy: 'Understand', front: 'Definition of Constructive Obligation?', back: 'Arises from established pattern of practice or published policy creating a valid expectation in others.' },
  { id: 'fc_ias37_04', moduleId: 'm_ias37', taxonomy: 'Remember', front: 'Definition of Contingent Liability?', back: 'Possible obligation OR present obligation where outflow is not probable or cannot be measured reliably. Disclosed only.' },
  { id: 'fc_ias37_05', moduleId: 'm_ias37', taxonomy: 'Apply', front: 'Treatment of Contingent Assets?', back: 'Disclosed where inflow is probable. Recognized ONLY if realization is virtually certain.' },
  { id: 'fc_ias37_06', moduleId: 'm_ias37', taxonomy: 'Apply', front: 'Measurement of Provision?', back: 'Best estimate of expenditure required to settle obligation at reporting date (Expected value or Most likely outcome).' },
  { id: 'fc_ias37_07', moduleId: 'm_ias37', taxonomy: 'Analyze', front: 'Accounting for Onerous Contracts?', back: 'Recognize provision for lower of cost of fulfilling contract and penalty for failure.' },
  { id: 'fc_ias37_08', moduleId: 'm_ias37', taxonomy: 'Analyze', front: 'Restructuring Provision criteria?', back: 'Detailed formal plan AND valid expectation raised (by starting implementation or announcement).' },
  { id: 'fc_ias37_09', moduleId: 'm_ias37', taxonomy: 'Evaluate', front: 'Reimbursement (e.g. Insurance)?', back: 'Recognize separate asset ONLY when virtually certain. Amount capped at provision amount.' },
  { id: 'fc_ias37_10', moduleId: 'm_ias37', taxonomy: 'Understand', front: 'Effect of time value of money?', back: 'If material, provision must be discounted to present value. Unwinding is interest expense.' },

  // --- IAS 38: Intangible Assets (m_ias38) ---
  { id: 'fc_ias38_01', moduleId: 'm_ias38', taxonomy: 'Remember', front: 'Definition of Intangible Asset?', back: 'Identifiable non-monetary asset without physical substance.' },
  { id: 'fc_ias38_02', moduleId: 'm_ias38', taxonomy: 'Remember', front: 'Criteria for Development Capitalization (PIRATE)?', back: 'Probable benefits, Intention, Resources, Ability to use/sell, Technical feasibility, Expenditure measurable.' },
  { id: 'fc_ias38_03', moduleId: 'm_ias38', taxonomy: 'Apply', front: 'Accounting for Research Costs?', back: 'Expensed to P&L as incurred. Never capitalized.' },
  { id: 'fc_ias38_04', moduleId: 'm_ias38', taxonomy: 'Understand', front: 'Initial measurement of Intangible?', back: 'At Cost (Purchase price + Directly attributable costs).' },
  { id: 'fc_ias38_05', moduleId: 'm_ias38', taxonomy: 'Analyze', front: 'Internally Generated Brands/Mastheads?', back: 'Prohibited from recognition. Cannot distinguish cost from business development.' },
  { id: 'fc_ias38_06', moduleId: 'm_ias38', taxonomy: 'Understand', front: 'Measurement models?', back: 'Cost Model OR Revaluation Model (Only if active market exists - rare).' },
  { id: 'fc_ias38_07', moduleId: 'm_ias38', taxonomy: 'Apply', front: 'Amortization of Finite Life Asset?', back: 'Amortized over useful life.' },
  { id: 'fc_ias38_08', moduleId: 'm_ias38', taxonomy: 'Analyze', front: 'Indefinite Useful Life Asset?', back: 'No amortization. Test for impairment annually (or if triggers).' },
  { id: 'fc_ias38_09', moduleId: 'm_ias38', taxonomy: 'Evaluate', front: 'Website Development Costs?', back: 'Capitalize if generating revenues (e.g. e-commerce). Expense if for advertising/info only.' },
  { id: 'fc_ias38_10', moduleId: 'm_ias38', taxonomy: 'Remember', front: 'Goodwill generated internally?', back: 'Not recognized.' },

  // --- IAS 40: Investment Property (m_ias40) ---
  { id: 'fc_ias40_01', moduleId: 'm_ias40', taxonomy: 'Remember', front: 'Definition of Investment Property?', back: 'Land/building held for rentals or capital appreciation (or both). Not for use or sale.' },
  { id: 'fc_ias40_02', moduleId: 'm_ias40', taxonomy: 'Understand', front: 'Measurement Models?', back: 'Fair Value Model (Default/Preferred) OR Cost Model.' },
  { id: 'fc_ias40_03', moduleId: 'm_ias40', taxonomy: 'Apply', front: 'Fair Value Model accounting?', back: 'Remeasure to FV at year-end. Gains/Losses to P&L. No depreciation.' },
  { id: 'fc_ias40_04', moduleId: 'm_ias40', taxonomy: 'Apply', front: 'Cost Model accounting?', back: 'Depreciate + Impairment (same as IAS 16). Must disclose FV.' },
  { id: 'fc_ias40_05', moduleId: 'm_ias40', taxonomy: 'Analyze', front: 'Change in Use: IP (FV) to Owner-Occupied (IAS 16)?', back: 'Deemed cost is Fair Value at date of change.' },
  { id: 'fc_ias40_06', moduleId: 'm_ias40', taxonomy: 'Analyze', front: 'Change in Use: Owner-Occupied (IAS 16) to IP (FV)?', back: 'Revalue to FV at date of change. Gain to OCI (Reval Surplus). Loss to P&L.' },
  { id: 'fc_ias40_07', moduleId: 'm_ias40', taxonomy: 'Analyze', front: 'Change in Use: Inventory to IP (FV)?', back: 'Remeasure to FV. Gain/Loss to P&L.' },
  { id: 'fc_ias40_08', moduleId: 'm_ias40', taxonomy: 'Evaluate', front: 'Property partly used as IP and partly Owner-Occupied?', back: 'Account separately if portions can be sold/leased separately. If not, IP only if owner-occupied part is insignificant.' },
  { id: 'fc_ias40_09', moduleId: 'm_ias40', taxonomy: 'Understand', front: 'Ancillary services provided to tenants?', back: 'If significant (e.g. hotel), IAS 16. If insignificant (e.g. security), IAS 40.' },
  { id: 'fc_ias40_10', moduleId: 'm_ias40', taxonomy: 'Apply', front: 'Intragroup rentals (Parent rents to Sub)?', back: 'Consolidated FS: Owner-occupied (IAS 16). Separate FS: Investment Property (IAS 40).' },

  // --- IAS 41: Agriculture (m_ias41) ---
  { id: 'fc_ias41_01', moduleId: 'm_ias41', taxonomy: 'Remember', front: 'Scope of IAS 41?', back: 'Biological assets (living animals/plants) and Agricultural produce at point of harvest.' },
  { id: 'fc_ias41_02', moduleId: 'm_ias41', taxonomy: 'Understand', front: 'Measurement of Biological Asset?', back: 'Fair Value less Costs to Sell (at initial recognition and year-end).' },
  { id: 'fc_ias41_03', moduleId: 'm_ias41', taxonomy: 'Apply', front: 'Measurement of Agricultural Produce?', back: 'Fair Value less Costs to Sell at point of harvest. (Becomes Inventory cost).' },
  { id: 'fc_ias41_04', moduleId: 'm_ias41', taxonomy: 'Understand', front: 'Accounting for Gains/Losses?', back: 'Recognized in Profit or Loss for the period.' },
  { id: 'fc_ias41_05', moduleId: 'm_ias41', taxonomy: 'Analyze', front: 'What are Bearer Plants?', back: 'Plants used to produce produce over >1 period (e.g. Grape vines). Accounted for under IAS 16 (PPE).' },
  { id: 'fc_ias41_06', moduleId: 'm_ias41', taxonomy: 'Analyze', front: 'Produce growing on Bearer Plants?', back: 'Biological Asset under IAS 41.' },
  { id: 'fc_ias41_07', moduleId: 'm_ias41', taxonomy: 'Evaluate', front: 'Government Grants (Biological Assets)?', back: 'If unconditional: P&L when receivable. If conditional: P&L when conditions met.' },
  { id: 'fc_ias41_08', moduleId: 'm_ias41', taxonomy: 'Remember', front: 'Definition of Costs to Sell?', back: 'Incremental costs (Commissions, levies). Excludes transport and finance costs.' },
  { id: 'fc_ias41_09', moduleId: 'm_ias41', taxonomy: 'Apply', front: 'Inability to measure Fair Value reliably?', back: 'Use Cost less Accumulated Depreciation and Impairment (Biological assets only).' },
  { id: 'fc_ias41_10', moduleId: 'm_ias41', taxonomy: 'Apply', front: 'Land used for agriculture?', back: 'Accounted for under IAS 16 (PPE) or IAS 40 (IP). Not IAS 41.' },

  // --- IFRS 1: First-time Adoption of IFRS (m_ifrs1) ---
  { id: 'fc_ifrs1_01', moduleId: 'm_ifrs1', taxonomy: 'Remember', front: 'Definition of First-time Adopter?', back: 'Entity that presents its first annual financial statements that conform to IFRS, with an explicit statement of compliance.' },
  { id: 'fc_ifrs1_02', moduleId: 'm_ifrs1', taxonomy: 'Understand', front: 'What is the Date of Transition?', back: 'The beginning of the earliest period for which an entity presents full comparative information under IFRS.' },
  { id: 'fc_ifrs1_03', moduleId: 'm_ifrs1', taxonomy: 'Apply', front: 'General measurement rule at transition?', back: 'Recognize/Derecognize assets/liabilities per IFRS. Measure all at IFRS carrying amounts (Retrospective application).' },
  { id: 'fc_ifrs1_04', moduleId: 'm_ifrs1', taxonomy: 'Analyze', front: 'Adjustments arising from transition?', back: 'Recognized directly in Retained Earnings (or another equity category) at the Date of Transition.' },
  { id: 'fc_ifrs1_05', moduleId: 'm_ifrs1', taxonomy: 'Remember', front: 'Difference between Exemptions and Exceptions?', back: 'Exemptions are optional (to reduce cost/effort). Exceptions are mandatory (to prevent hindsight bias).' },
  { id: 'fc_ifrs1_06', moduleId: 'm_ifrs1', taxonomy: 'Apply', front: 'Optional Exemption: Deemed Cost for PPE?', back: 'Entity may use Fair Value (or previous GAAP revaluation) at transition date as "Deemed Cost" for IAS 16.' },
  { id: 'fc_ifrs1_07', moduleId: 'm_ifrs1', taxonomy: 'Evaluate', front: 'Mandatory Exception: Estimates?', back: 'Estimates under IFRS at transition date must be consistent with estimates under previous GAAP (unless error exists).' },
  { id: 'fc_ifrs1_08', moduleId: 'm_ifrs1', taxonomy: 'Analyze', front: 'Cumulative Translation Differences exemption?', back: 'Can reset cumulative translation reserve to zero at transition date. Gain/loss on future disposal excludes pre-transition amounts.' },
  { id: 'fc_ifrs1_09', moduleId: 'm_ifrs1', taxonomy: 'Understand', front: 'Opening IFRS Statement of Financial Position?', back: 'Must be prepared at the Date of Transition. (Does not need to be published in full, but underlies comparatives).' },
  { id: 'fc_ifrs1_10', moduleId: 'm_ifrs1', taxonomy: 'Apply', front: 'Explanation of transition to IFRS?', back: 'Must provide reconciliations of Equity (at transition and end of last GAAP period) and Total Comprehensive Income.' },

  // --- IFRS 2: Share-based Payment (m_ifrs2) ---
  { id: 'fc_ifrs2_01', moduleId: 'm_ifrs2', taxonomy: 'Remember', front: 'Scope of IFRS 2?', back: 'Transactions where entity receives goods/services in exchange for equity instruments (shares/options) or cash amounts based on share price.' },
  { id: 'fc_ifrs2_02', moduleId: 'm_ifrs2', taxonomy: 'Understand', front: 'Equity-settled vs Cash-settled measurement?', back: 'Equity-settled: FV at Grant Date (fixed). Cash-settled: FV of Liability at Reporting Date (remeasured).' },
  { id: 'fc_ifrs2_03', moduleId: 'm_ifrs2', taxonomy: 'Apply', front: 'Entry for Equity-settled transaction (Employees)?', back: 'Dr Expense, Cr Equity (Other Components of Equity). Spread over vesting period.' },
  { id: 'fc_ifrs2_04', moduleId: 'm_ifrs2', taxonomy: 'Analyze', front: 'Vesting Conditions: Market vs Non-market?', back: 'Market (e.g. share price target): Included in Grant Date FV. Non-market (e.g. profit target): Adjust number of expected awards.' },
  { id: 'fc_ifrs2_05', moduleId: 'm_ifrs2', taxonomy: 'Remember', front: 'Definition of Grant Date?', back: 'Date when entity and counterparty agree to share-based payment arrangement and a shared understanding of terms exists.' },
  { id: 'fc_ifrs2_06', moduleId: 'm_ifrs2', taxonomy: 'Evaluate', front: 'Failure to meet Market Condition?', back: 'Expense is still recognized if service conditions are met. (Market condition was already priced into the FV).' },
  { id: 'fc_ifrs2_07', moduleId: 'm_ifrs2', taxonomy: 'Apply', front: 'Modification: Repricing options (reducing exercise price)?', back: 'Recognize incremental fair value (FV new - FV old) over the remaining vesting period.' },
  { id: 'fc_ifrs2_08', moduleId: 'm_ifrs2', taxonomy: 'Analyze', front: 'Cancellation/Settlement during vesting period?', back: 'Treat as "Accelerated Vesting". Recognize remaining expense immediately. Payment > FV is deduction from equity.' },
  { id: 'fc_ifrs2_09', moduleId: 'm_ifrs2', taxonomy: 'Understand', front: 'Transaction with non-employees (e.g. suppliers)?', back: 'Measure at FV of goods/services received. If not reliable, use FV of equity instruments at date goods/services received.' },
  { id: 'fc_ifrs2_10', moduleId: 'm_ifrs2', taxonomy: 'Apply', front: 'Deferred tax on share options?', back: 'Tax deduction often arises on exercise (intrinsic value). Deferred Tax Asset based on estimated deduction at year-end.' },

  // --- IFRS 3: Business Combinations (m_ifrs3) ---
  { id: 'fc_ifrs3_01', moduleId: 'm_ifrs3', taxonomy: 'Remember', front: 'Definition of Business Combination?', back: 'A transaction or other event in which an acquirer obtains control of one or more businesses.' },
  { id: 'fc_ifrs3_02', moduleId: 'm_ifrs3', taxonomy: 'Understand', front: 'The Acquisition Method (4 steps)?', back: '1. Identify Acquirer. 2. Determine Acquisition Date. 3. Recognize/Measure Assets/Liabs/NCI. 4. Recognize/Measure Goodwill.' },
  { id: 'fc_ifrs3_03', moduleId: 'm_ifrs3', taxonomy: 'Apply', front: 'Acquisition-related costs (Legal, advisory)?', back: 'Expensed in P&L as incurred. (Exception: Debt/Equity issuance costs deduct from liability/equity).' },
  { id: 'fc_ifrs3_04', moduleId: 'm_ifrs3', taxonomy: 'Analyze', front: 'Measurement of Non-controlling Interest (NCI)?', back: 'Choice per transaction: 1. Fair Value (Full Goodwill). 2. Proportionate share of net identifiable assets (Partial Goodwill).' },
  { id: 'fc_ifrs3_05', moduleId: 'm_ifrs3', taxonomy: 'Evaluate', front: 'Contingent Consideration (Earn-out)?', back: 'Recognize at Fair Value at acquisition date (Liability). Subsequent changes in FV go to P&L (unless Equity classified).' },
  { id: 'fc_ifrs3_06', moduleId: 'm_ifrs3', taxonomy: 'Apply', front: 'Goodwill Calculation?', back: 'Consideration Transferred + NCI + FV of Prev Interest - Net Identifiable Assets Acquired.' },
  { id: 'fc_ifrs3_07', moduleId: 'm_ifrs3', taxonomy: 'Analyze', front: 'Bargain Purchase (Negative Goodwill)?', back: 'Reassess assets/liabilities. If excess remains, recognize gain immediately in P&L.' },
  { id: 'fc_ifrs3_08', moduleId: 'm_ifrs3', taxonomy: 'Remember', front: 'Measurement Period?', back: 'Max 12 months from acquisition date to finalize provisional amounts (Retrospective adjustment allowed).' },
  { id: 'fc_ifrs3_09', moduleId: 'm_ifrs3', taxonomy: 'Understand', front: 'Intangible assets in acquisition?', back: 'Recognize separately from Goodwill if identifiable (Separable OR Legal/Contractual rights), even if not in acquiree books.' },
  { id: 'fc_ifrs3_10', moduleId: 'm_ifrs3', taxonomy: 'Apply', front: 'Step Acquisition (Control obtained)?', back: 'Remeasure previously held equity interest to Fair Value. Recognize gain/loss in P&L.' },

  // --- IFRS 5: Non-current Assets Held for Sale and Discontinued Operations (m_ifrs5) ---
  { id: 'fc_ifrs5_01', moduleId: 'm_ifrs5', taxonomy: 'Remember', front: 'Criteria for Held for Sale (HFS)?', back: 'Available for immediate sale in present condition AND Sale is highly probable (Management committed, Active program, <1 year).' },
  { id: 'fc_ifrs5_02', moduleId: 'm_ifrs5', taxonomy: 'Understand', front: 'Measurement of HFS asset?', back: 'Lower of Carrying Amount and Fair Value less Costs to Sell.' },
  { id: 'fc_ifrs5_03', moduleId: 'm_ifrs5', taxonomy: 'Apply', front: 'Depreciation of HFS asset?', back: 'Depreciation ceases immediately upon classification as HFS.' },
  { id: 'fc_ifrs5_04', moduleId: 'm_ifrs5', taxonomy: 'Analyze', front: 'Definition of Discontinued Operation?', back: 'Component disposed of/HFS that is a major line of business/geographical area, or sub acquired exclusively for resale.' },
  { id: 'fc_ifrs5_05', moduleId: 'm_ifrs5', taxonomy: 'Apply', front: 'Presentation of Discontinued Ops in SPL?', back: 'Single amount (Post-tax profit/loss of ops + Post-tax gain/loss on disposal) separate from Continuing Ops.' },
  { id: 'fc_ifrs5_06', moduleId: 'm_ifrs5', taxonomy: 'Evaluate', front: 'Asset abandoned vs HFS?', back: 'Abandoned assets are NOT HFS (carrying amount recovered through use, not sale). Treated as Discontinued Op only when actually abandoned.' },
  { id: 'fc_ifrs5_07', moduleId: 'm_ifrs5', taxonomy: 'Remember', front: 'Comparative figures for HFS in SOFP?', back: 'Do NOT restate comparatives in Statement of Financial Position.' },
  { id: 'fc_ifrs5_08', moduleId: 'm_ifrs5', taxonomy: 'Remember', front: 'Comparative figures for Discontinued Ops in SPL?', back: 'MUST restate comparatives in Statement of Profit or Loss (reclassify prior year as Discontinued).' },
  { id: 'fc_ifrs5_09', moduleId: 'm_ifrs5', taxonomy: 'Apply', front: 'Impairment of HFS disposal group?', back: 'Allocate impairment loss to Goodwill first, then pro-rata to non-current assets within scope of IFRS 5.' },
  { id: 'fc_ifrs5_10', moduleId: 'm_ifrs5', taxonomy: 'Analyze', front: 'Change of plan (No longer HFS)?', back: 'Measure at lower of: (a) CA before classification (adjusted for missed depn) or (b) Recoverable Amount at date of decision.' },

  // --- IFRS 8: Operating Segments (m_ifrs8) ---
  { id: 'fc_ifrs8_01', moduleId: 'm_ifrs8', taxonomy: 'Remember', front: 'Core Principle of IFRS 8?', back: 'Disclose information to enable users to evaluate the nature and financial effects of business activities (Management Approach).' },
  { id: 'fc_ifrs8_02', moduleId: 'm_ifrs8', taxonomy: 'Understand', front: 'Definition of Operating Segment?', back: 'Component engaging in business activities, results reviewed by CODM, discrete financial info available.' },
  { id: 'fc_ifrs8_03', moduleId: 'm_ifrs8', taxonomy: 'Remember', front: 'Who is the CODM?', back: 'Chief Operating Decision Maker (Function, not necessarily a person, e.g. Board of Directors/CEO).' },
  { id: 'fc_ifrs8_04', moduleId: 'm_ifrs8', taxonomy: 'Apply', front: 'Quantitative Thresholds (10% test)?', back: 'Reportable if >10% of: Combined Revenue (External+Internal), OR Absolute Profit/Loss, OR Combined Assets.' },
  { id: 'fc_ifrs8_05', moduleId: 'm_ifrs8', taxonomy: 'Analyze', front: '75% Revenue Rule?', back: 'Total external revenue of reportable segments must be >= 75% of entity\'s external revenue. If not, add more segments.' },
  { id: 'fc_ifrs8_06', moduleId: 'm_ifrs8', taxonomy: 'Apply', front: 'Aggregation criteria?', back: 'Can aggregate segments if consistent with core principle, similar economic characteristics, and similar products/processes/customers.' },
  { id: 'fc_ifrs8_07', moduleId: 'm_ifrs8', taxonomy: 'Evaluate', front: 'Segment Profit/Loss measurement?', back: 'Must use the measure reported to the CODM (even if not complying with IFRS, e.g. excluding pension costs).' },
  { id: 'fc_ifrs8_08', moduleId: 'm_ifrs8', taxonomy: 'Remember', front: 'Scope of IFRS 8?', back: 'Applies to entities whose debt or equity instruments are traded in a public market (Listed companies).' },
  { id: 'fc_ifrs8_09', moduleId: 'm_ifrs8', taxonomy: 'Apply', front: 'Major Customer Disclosure?', back: 'If revenues from a single customer are >= 10% of total entity revenue, disclose fact and amount (customer identity optional).' },
  { id: 'fc_ifrs8_10', moduleId: 'm_ifrs8', taxonomy: 'Understand', front: 'All Other Segments category?', back: 'Operating segments not meeting quantitative thresholds and not aggregated are combined into "All Other Segments".' },

  // --- IFRS 9: Financial Instruments (m_ifrs9) ---
  { id: 'fc_ifrs9_01', moduleId: 'm_ifrs9', taxonomy: 'Remember', front: 'Two tests for Amortized Cost classification?', back: '1. Business Model Test (Hold to Collect). 2. SPPI Test (Solely Payments of Principal and Interest).' },
  { id: 'fc_ifrs9_02', moduleId: 'm_ifrs9', taxonomy: 'Understand', front: 'Criteria for FVTOCI (Debt)?', back: 'Held to Collect AND Sell (Business Model) + SPPI Test passed.' },
  { id: 'fc_ifrs9_03', moduleId: 'm_ifrs9', taxonomy: 'Apply', front: 'Equity Instrument election?', back: 'Irrevocable election at initial recognition to present FV changes in OCI. No recycling to P&L on disposal.' },
  { id: 'fc_ifrs9_04', moduleId: 'm_ifrs9', taxonomy: 'Analyze', front: 'Financial Liability classification?', back: 'Default is Amortized Cost. FVTPL if held for trading or Fair Value Option chosen to reduce mismatch.' },
  { id: 'fc_ifrs9_05', moduleId: 'm_ifrs9', taxonomy: 'Evaluate', front: 'Modification of Debt (Substantial)?', back: 'If terms change substantially (>10% PV diff), derecognize old liability, recognize new at FV. Gain/Loss to P&L.' },
  { id: 'fc_ifrs9_06', moduleId: 'm_ifrs9', taxonomy: 'Remember', front: 'Three stages of ECL Model?', back: '1. 12-month ECL (No significant increase in risk). 2. Lifetime ECL (Significant increase). 3. Lifetime ECL (Credit Impaired).' },
  { id: 'fc_ifrs9_07', moduleId: 'm_ifrs9', taxonomy: 'Apply', front: 'Initial Measurement rule?', back: 'Fair Value. Add transaction costs (unless FVTPL - then expense costs).' },
  { id: 'fc_ifrs9_08', moduleId: 'm_ifrs9', taxonomy: 'Understand', front: 'SPPI Test failure?', back: 'If cash flows are not SPPI (e.g., convertible bond, commodity link), must measure at FVTPL.' },
  { id: 'fc_ifrs9_09', moduleId: 'm_ifrs9', taxonomy: 'Analyze', front: 'Reclassification of Financial Assets?', back: 'Required ONLY when the entity changes its business model for managing financial assets. Prospective application.' },
  { id: 'fc_ifrs9_10', moduleId: 'm_ifrs9', taxonomy: 'Apply', front: 'Derecognition of Asset (Factoring)?', back: 'Derecognize if risks/rewards transferred. If retained (recourse), keep asset and recognize liability for cash received.' },

  // --- IFRS 10: Consolidated Financial Statements (m_ifrs10) ---
  { id: 'fc_ifrs10_01', moduleId: 'm_ifrs10', taxonomy: 'Remember', front: 'Definition of Control (3 elements)?', back: '1. Power over investee. 2. Exposure/rights to variable returns. 3. Ability to use power to affect returns.' },
  { id: 'fc_ifrs10_02', moduleId: 'm_ifrs10', taxonomy: 'Understand', front: 'What are "De Facto" agents?', back: 'Parties acting on behalf of the investor (e.g. related parties). Their rights are treated as the investor\'s rights.' },
  { id: 'fc_ifrs10_03', moduleId: 'm_ifrs10', taxonomy: 'Apply', front: 'Different Reporting Dates rule?', back: 'Sub must prepare FS for consolidation at same date as parent. If impracticable, max 3 months difference (adjust for significant events).' },
  { id: 'fc_ifrs10_04', moduleId: 'm_ifrs10', taxonomy: 'Analyze', front: 'Accounting for Loss of Control?', back: 'Derecognize assets/liabilities/NCI. Recognize retained interest at Fair Value. Gain/Loss to P&L.' },
  { id: 'fc_ifrs10_05', moduleId: 'm_ifrs10', taxonomy: 'Evaluate', front: 'Investment Entity exemption?', back: 'Investment Entity does NOT consolidate subs (unless providing services). Measures them at FVTPL.' },
  { id: 'fc_ifrs10_06', moduleId: 'm_ifrs10', taxonomy: 'Apply', front: 'Potential Voting Rights?', back: 'Considered if substantive (exercisable when decisions need to be made) to determine control.' },
  { id: 'fc_ifrs10_07', moduleId: 'm_ifrs10', taxonomy: 'Remember', front: 'Uniform Accounting Policies?', back: 'Parent and Sub must use same policies for like transactions. Adjust Sub\'s FS if necessary.' },
  { id: 'fc_ifrs10_08', moduleId: 'm_ifrs10', taxonomy: 'Understand', front: 'Protective vs Substantive Rights?', back: 'Protective rights (e.g. bank covenant, franchise restriction) do NOT give power. Only substantive rights count.' },
  { id: 'fc_ifrs10_09', moduleId: 'm_ifrs10', taxonomy: 'Analyze', front: 'Change in stake without loss of control?', back: 'Equity transaction (between owners). Adjust NCI and Parent Equity. No Gain/Loss in P&L.' },
  { id: 'fc_ifrs10_10', moduleId: 'm_ifrs10', taxonomy: 'Apply', front: 'Intragroup transactions elimination?', back: 'Eliminate 100% of intragroup assets, liabilities, equity, income, expenses, and cash flows.' },

  // --- IFRS 11: Joint Arrangements (m_ifrs11) ---
  { id: 'fc_ifrs11_01', moduleId: 'm_ifrs11', taxonomy: 'Remember', front: 'Definition of Joint Control?', back: 'Contractually agreed sharing of control. Decisions require UNANIMOUS consent of parties sharing control.' },
  { id: 'fc_ifrs11_02', moduleId: 'm_ifrs11', taxonomy: 'Understand', front: 'Joint Operation vs Joint Venture?', back: 'JO: Rights to assets/obligations for liabilities. JV: Rights to net assets of the arrangement.' },
  { id: 'fc_ifrs11_03', moduleId: 'm_ifrs11', taxonomy: 'Apply', front: 'Accounting for Joint Venture?', back: 'Equity Method (IAS 28).' },
  { id: 'fc_ifrs11_04', moduleId: 'm_ifrs11', taxonomy: 'Apply', front: 'Accounting for Joint Operation?', back: 'Recognize share of Assets, Liabilities, Revenue, and Expenses.' },
  { id: 'fc_ifrs11_05', moduleId: 'm_ifrs11', taxonomy: 'Analyze', front: 'Separate Vehicle test?', back: 'If no separate vehicle -> Joint Operation. If separate vehicle -> Check legal form/contract -> JV or JO.' },
  { id: 'fc_ifrs11_06', moduleId: 'm_ifrs11', taxonomy: 'Evaluate', front: 'Party participates but no joint control?', back: 'If JO: Account for share of assets/liabs if rights exist. If JV: Account as financial instrument (IFRS 9) or Associate (IAS 28).' },
  { id: 'fc_ifrs11_07', moduleId: 'm_ifrs11', taxonomy: 'Remember', front: 'Is Proportional Consolidation allowed for JVs?', back: 'No. Prohibited by IFRS 11 (Removed option from old IAS 31).' },
  { id: 'fc_ifrs11_08', moduleId: 'm_ifrs11', taxonomy: 'Apply', front: 'Transaction: Venturer sells asset to JV?', back: 'Recognize gain only to extent of *other* parties\' interest (Eliminate own share).' },
  { id: 'fc_ifrs11_09', moduleId: 'm_ifrs11', taxonomy: 'Understand', front: 'Joint Operation: Output uptake?', back: 'Often structured so parties take 100% of output. Indicates JO (Rights to economic benefits of assets).' },
  { id: 'fc_ifrs11_10', moduleId: 'm_ifrs11', taxonomy: 'Analyze', front: 'Acquisition of interest in JO (Business)?', back: 'Apply IFRS 3 Business Combinations principles (Recognize Goodwill etc.) if activity constitutes a business.' },

  // --- IFRS 12: Disclosure of Interests in Other Entities (m_ifrs12) ---
  { id: 'fc_ifrs12_01', moduleId: 'm_ifrs12', taxonomy: 'Remember', front: 'Objective of IFRS 12?', back: 'Disclose info to evaluate nature of interests, risks associated, and effects on financial position/performance.' },
  { id: 'fc_ifrs12_02', moduleId: 'm_ifrs12', taxonomy: 'Understand', front: 'Scope of IFRS 12?', back: 'Subsidiaries, Joint Arrangements (JVs/JOs), Associates, and Unconsolidated Structured Entities.' },
  { id: 'fc_ifrs12_03', moduleId: 'm_ifrs12', taxonomy: 'Apply', front: 'Significant Judgements disclosure?', back: 'Must disclose judgements made in determining control, joint control, or significant influence.' },
  { id: 'fc_ifrs12_04', moduleId: 'm_ifrs12', taxonomy: 'Analyze', front: 'Disclosure for material NCI?', back: 'Name of sub, place of business, prop ownership, accumulated NCI, profit allocated, summarized financial info.' },
  { id: 'fc_ifrs12_05', moduleId: 'm_ifrs12', taxonomy: 'Remember', front: 'Definition of Structured Entity?', back: 'Entity designed so voting rights are not dominant factor (e.g. securitization vehicle).' },
  { id: 'fc_ifrs12_06', moduleId: 'm_ifrs12', taxonomy: 'Evaluate', front: 'Unconsolidated Structured Entities risks?', back: 'Must disclose nature/extent of interests and exposure to risk (e.g. maximum loss exposure).' },
  { id: 'fc_ifrs12_07', moduleId: 'm_ifrs12', taxonomy: 'Apply', front: 'Summarized financial info required for?', back: 'Material Joint Ventures and Associates.' },
  { id: 'fc_ifrs12_08', moduleId: 'm_ifrs12', taxonomy: 'Understand', front: 'Restrictions disclosure?', back: 'Significant restrictions on ability to access/use assets or settle liabilities of the group.' },
  { id: 'fc_ifrs12_09', moduleId: 'm_ifrs12', taxonomy: 'Apply', front: 'Investment Entity status?', back: 'Disclose the fact, significant judgements for the status, and details of unconsolidated subs.' },
  { id: 'fc_ifrs12_10', moduleId: 'm_ifrs12', taxonomy: 'Remember', front: 'Date of FS differences?', back: 'Disclose date of end of reporting period of sub/assoc/JV if different from parent.' },

  // --- IFRS 13: Fair Value Measurement (m_ifrs13) ---
  { id: 'fc_ifrs13_01', moduleId: 'm_ifrs13', taxonomy: 'Remember', front: 'Definition of Fair Value?', back: 'Price received to sell an asset or paid to transfer a liability in an orderly transaction between market participants at measurement date (Exit Price).' },
  { id: 'fc_ifrs13_02', moduleId: 'm_ifrs13', taxonomy: 'Understand', front: 'Principal Market vs Most Advantageous?', back: 'Principal: Greatest volume/activity (Default). Most Advantageous: Max price/Min liab (used only if no Principal market).' },
  { id: 'fc_ifrs13_03', moduleId: 'm_ifrs13', taxonomy: 'Apply', front: 'Highest and Best Use?', back: 'Concept for Non-financial Assets (e.g. Land). Maximize value (physically possible, legally permissible, financially feasible).' },
  { id: 'fc_ifrs13_04', moduleId: 'm_ifrs13', taxonomy: 'Remember', front: 'Level 1 Inputs?', back: 'Quoted prices in active markets for identical assets/liabilities (unadjusted).' },
  { id: 'fc_ifrs13_05', moduleId: 'm_ifrs13', taxonomy: 'Remember', front: 'Level 2 Inputs?', back: 'Observable inputs other than quoted prices (e.g. interest rates, yield curves, similar assets).' },
  { id: 'fc_ifrs13_06', moduleId: 'm_ifrs13', taxonomy: 'Remember', front: 'Level 3 Inputs?', back: 'Unobservable inputs (e.g. cash flow forecasts using own data). used when observable data not available.' },
  { id: 'fc_ifrs13_07', moduleId: 'm_ifrs13', taxonomy: 'Apply', front: 'Treatment of Transport Costs?', back: 'Deducted from price to determine FV (Location is a characteristic of the asset).' },
  { id: 'fc_ifrs13_08', moduleId: 'm_ifrs13', taxonomy: 'Apply', front: 'Treatment of Transaction Costs?', back: 'Excluded from FV measurement (Characteristic of the transaction, not the asset). Exception: Calculating "Most Advantageous" market.' },
  { id: 'fc_ifrs13_09', moduleId: 'm_ifrs13', taxonomy: 'Analyze', front: 'Valuation Techniques?', back: 'Market Approach (multiples), Cost Approach (replacement cost), Income Approach (PV of flows).' },
  { id: 'fc_ifrs13_10', moduleId: 'm_ifrs13', taxonomy: 'Evaluate', front: 'Fair Value Hierarchy priority?', back: 'Maximize use of Level 1 (Observable), Minimize use of Level 3 (Unobservable).' },

  // --- IFRS 15: Revenue from Contracts with Customers (m_ifrs15) ---
  { id: 'fc_ifrs15_01', moduleId: 'm_ifrs15', taxonomy: 'Remember', front: 'Identify the 5 steps of the IFRS 15 model.', back: '1. Identify contract with customer.\n2. Identify performance obligations.\n3. Determine transaction price.\n4. Allocate transaction price.\n5. Recognize revenue when/as obligation satisfied.' },
  { id: 'fc_ifrs15_02', moduleId: 'm_ifrs15', taxonomy: 'Understand', front: 'What is a "Contract Asset"?', back: 'An entity\'s right to consideration in exchange for goods/services transferred, conditioned on something other than the passage of time (e.g., future performance).' },
  { id: 'fc_ifrs15_03', moduleId: 'm_ifrs15', taxonomy: 'Apply', front: 'Criteria for recognizing revenue OVER TIME?', back: '1. Customer simultaneously receives and consumes benefits.\n2. Customer controls asset as it is created.\n3. No alternative use + enforceable right to payment.' },
  { id: 'fc_ifrs15_04', moduleId: 'm_ifrs15', taxonomy: 'Analyze', front: 'Variable Consideration: The "Constraint".', back: 'Include variable consideration only to the extent it is HIGHLY PROBABLE that a significant reversal will not occur when uncertainty resolves.' },
  { id: 'fc_ifrs15_05', moduleId: 'm_ifrs15', taxonomy: 'Evaluate', front: 'Principal vs Agent indicators?', back: 'Principal: Controls the good/service before transfer (Gross Revenue). Agent: Arranges for another party to provide it (Net Commission).' },
  { id: 'fc_ifrs15_06', moduleId: 'm_ifrs15', taxonomy: 'Apply', front: 'Allocating a discount in a bundle?', back: 'Allocate proportionately to all performance obligations unless observable evidence suggests the discount relates to specific items.' },
  { id: 'fc_ifrs15_07', moduleId: 'm_ifrs15', taxonomy: 'Remember', front: 'What is a "Stand-Alone Selling Price" (SSP)?', back: 'The price at which an entity would sell a promised good or service separately to a customer.' },
  { id: 'fc_ifrs15_08', moduleId: 'm_ifrs15', taxonomy: 'Understand', front: 'Treatment of significant financing component?', back: 'Adjust promised consideration for time value of money if timing provides significant financing benefit (>1 year). Use discount rate at inception.' },
  { id: 'fc_ifrs15_09', moduleId: 'm_ifrs15', taxonomy: 'Analyze', front: 'Sale with Right of Return?', back: 'Revenue: Recognized only for products not expected to be returned.\nRefund Liability: Recognized for expected returns.\nAsset: Right to recover products.' },
  { id: 'fc_ifrs15_10', moduleId: 'm_ifrs15', taxonomy: 'Apply', front: 'Costs to obtain a contract (e.g. Commission)?', back: 'Capitalize as an asset if the entity expects to recover them. Amortize on a systematic basis. (Practical expedient: Expense if < 1 year).' },

  // --- IFRS 16: Leases (m_ifrs16) ---
  { id: 'fc_ifrs16_01', moduleId: 'm_ifrs16', taxonomy: 'Remember', front: 'Definition of a Lease?', back: 'A contract conveying the right to CONTROL the use of an IDENTIFIED ASSET for a period of time in exchange for consideration.' },
  { id: 'fc_ifrs16_02', moduleId: 'm_ifrs16', taxonomy: 'Understand', front: 'Lessee Accounting: The single model.', back: 'Recognize a Right-of-Use (ROU) Asset and a Lease Liability for all leases (except exemptions).' },
  { id: 'fc_ifrs16_03', moduleId: 'm_ifrs16', taxonomy: 'Apply', front: 'Initial Measurement of Lease Liability?', back: 'Present Value of lease payments not paid at commencement date. Discount rate: Rate implicit in lease (if determined) or Incremental Borrowing Rate.' },
  { id: 'fc_ifrs16_04', moduleId: 'm_ifrs16', taxonomy: 'Apply', front: 'Initial Measurement of ROU Asset?', back: 'Lease Liability + Initial Direct Costs + Prepaid Lease Payments + Estimated Dismantling Costs - Lease Incentives Received.' },
  { id: 'fc_ifrs16_05', moduleId: 'm_ifrs16', taxonomy: 'Remember', front: 'Lessee Exemptions?', back: '1. Short-term leases (<= 12 months, no purchase option).\n2. Leases of Low-value assets (e.g., tablets, furniture, <$5,000 when new).' },
  { id: 'fc_ifrs16_06', moduleId: 'm_ifrs16', taxonomy: 'Analyze', front: 'Subsequent Measurement of ROU Asset?', back: 'Cost Model (Cost - Accum Depn - Impairment). Can use Revaluation Model (if class is revalued) or Fair Value (if Investment Property).' },
  { id: 'fc_ifrs16_07', moduleId: 'm_ifrs16', taxonomy: 'Evaluate', front: 'Sale and Leaseback: Transfer is a Sale?', back: 'Derecognize asset. Recognize ROU Asset at portion of previous carrying amount retained. Gain recognized only for rights transferred to buyer.' },
  { id: 'fc_ifrs16_08', moduleId: 'm_ifrs16', taxonomy: 'Understand', front: 'Lessor Accounting?', back: 'Classifies leases as either Operating (risks/rewards retained) or Finance (risks/rewards transferred). Similar to old IAS 17.' },
  { id: 'fc_ifrs16_09', moduleId: 'm_ifrs16', taxonomy: 'Apply', front: 'Lease Term determination?', back: 'Non-cancellable period + periods covered by option to extend (if reasonably certain) + periods covered by option to terminate (if reasonably certain NOT to exercise).' },
  { id: 'fc_ifrs16_10', moduleId: 'm_ifrs16', taxonomy: 'Analyze', front: 'Variable Lease Payments?', back: 'Index/Rate based: Include in Liability (remeasure when cash flows change).\nPerformance/Usage based (e.g. % of sales): Expense in P&L when event occurs.' },

  // --- IFRS 17: Insurance Contracts (m_ifrs17) ---
  { id: 'fc_ifrs17_01', moduleId: 'm_ifrs17', taxonomy: 'Remember', front: 'Definition of Insurance Contract?', back: 'A contract where the issuer accepts significant insurance risk from the policyholder by agreeing to compensate them if a specified uncertain future event occurs.' },
  { id: 'fc_ifrs17_02', moduleId: 'm_ifrs17', taxonomy: 'Understand', front: 'What is the Contractual Service Margin (CSM)?', back: 'A component of the asset/liability representing the unearned profit the entity will recognize as it provides services in the future.' },
  { id: 'fc_ifrs17_03', moduleId: 'm_ifrs17', taxonomy: 'Apply', front: 'General Measurement Model (GMM) - Core Components?', back: '1. Fulfilment Cash Flows (PV of Probability-weighted estimates + Risk Adjustment).\n2. Contractual Service Margin (CSM).' },
  { id: 'fc_ifrs17_04', moduleId: 'm_ifrs17', taxonomy: 'Analyze', front: 'Onerous Contracts at inception?', back: 'Recognize a loss in P&L immediately if Fulfilment Cash Flows > Premiums. No CSM is recognized (Loss Component created).' },
  { id: 'fc_ifrs17_05', moduleId: 'm_ifrs17', taxonomy: 'Remember', front: 'Level of Aggregation (Portfolios)?', back: 'Groups: 1. Onerous contracts. 2. No significant risk of becoming onerous. 3. Other contracts. (Cannot include contracts issued >1 year apart).' },
  { id: 'fc_ifrs17_06', moduleId: 'm_ifrs17', taxonomy: 'Evaluate', front: 'Premium Allocation Approach (PAA) eligibility?', back: 'Simplified model. Allowed if coverage period <= 1 year OR measurement is not materially different from GMM.' },
  { id: 'fc_ifrs17_07', moduleId: 'm_ifrs17', taxonomy: 'Apply', front: 'Investment Components?', back: 'Amounts repaid to policyholder regardless of insured event (e.g. deposit). Excluded from Insurance Revenue and Insurance Service Expenses.' },
  { id: 'fc_ifrs17_08', moduleId: 'm_ifrs17', taxonomy: 'Understand', front: 'Insurance Revenue recognition?', back: 'Recognized over the coverage period based on the provision of services (passage of time or coverage units), not just cash receipt.' },
  { id: 'fc_ifrs17_09', moduleId: 'm_ifrs17', taxonomy: 'Analyze', front: 'Discount Rates in IFRS 17?', back: 'Must reflect the time value of money and liquidity characteristics of the contract. Updated at EACH reporting date (Current rates).' },
  { id: 'fc_ifrs17_10', moduleId: 'm_ifrs17', taxonomy: 'Remember', front: 'Variable Fee Approach (VFA)?', back: 'Mandatory for direct participating contracts (policyholders share in returns of underlying items). CSM absorbs variability of the entity\'s share.' },
];

const SAMPLE_QUIZ_DB: QuizQuestion[] = [
  // --- IAS 1 (m_ias1) ---
  { id: 'q_ias1_01', moduleId: 'm_ias1', taxonomy: 'Analyze', question: 'Long-term loan covenant breached before year-end. Bank waives breach AFTER year-end. Classification?', options: ['Non-current', 'Current', 'Equity', 'Disclose only'], correctAnswer: 1, explanation: 'Current. The right to defer settlement must exist AT the reporting date. Post-year-end waiver is non-adjusting.' },
  { id: 'q_ias1_02', moduleId: 'm_ias1', taxonomy: 'Remember', question: 'Which item is recognized in Other Comprehensive Income (OCI)?', options: ['Investment Property Gain (FV Model)', 'Revaluation Gain on PPE', 'Trading Inventory Gain', 'Interest Income'], correctAnswer: 1, explanation: 'Revaluation gains on PPE (IAS 16) go to OCI. Investment Property FV gains (IAS 40) go to P&L.' },
  { id: 'q_ias1_03', moduleId: 'm_ias1', taxonomy: 'Apply', question: 'Entity A refinances a short-term loan into a long-term one AFTER the reporting date. Treatment?', options: ['Classify as Non-current', 'Classify as Current', 'Offset against assets', 'Recognize in Equity'], correctAnswer: 1, explanation: 'Current. The refinancing was not agreed at the reporting date.' },
  { id: 'q_ias1_04', moduleId: 'm_ias1', taxonomy: 'Apply', question: 'Dividends paid on Redeemable Preference Shares. How to present?', options: ['Deduction from Equity', 'Finance Cost in P&L', 'Expense in OCI', 'Reduction of Liability'], correctAnswer: 1, explanation: 'Redeemable shares are Liabilities. Dividends are Interest Expense (Finance Cost).' },
  { id: 'q_ias1_05', moduleId: 'm_ias1', taxonomy: 'Understand', question: 'Management is aware of material uncertainties regarding Going Concern. Requirement?', options: ['Adjust to break-up basis', 'Disclose uncertainties', 'Ignore if probability < 50%', 'Write off all assets'], correctAnswer: 1, explanation: 'If Going Concern is appropriate but uncertainties exist, those uncertainties must be disclosed.' },
  { id: 'q_ias1_06', moduleId: 'm_ias1', taxonomy: 'Analyze', question: 'Which is NOT part of a complete set of FS?', options: ['Notes', 'Operating and Financial Review (OFR)', 'Cash Flow Statement', 'SOFP'], correctAnswer: 1, explanation: 'OFR / Directors Report is not part of the mandatory IFRS financial statements.' },
  { id: 'q_ias1_07', moduleId: 'm_ias1', taxonomy: 'Apply', question: 'Retrospective restatement of error made. Presentation requirement?', options: ['Two SOFPs', 'Three SOFPs', 'Two P&Ls only', 'Note disclosure only'], correctAnswer: 1, explanation: 'A third Statement of Financial Position (beginning of earliest comparative period) is required.' },
  { id: 'q_ias1_08', moduleId: 'm_ias1', taxonomy: 'Evaluate', question: 'Departure from IFRS (True and Fair Override) is permitted when?', options: ['Management prefers it', 'Tax rules require it', 'Compliance would be misleading', 'Industry practice differs'], correctAnswer: 2, explanation: 'Only when compliance would be so misleading that it conflicts with the objective of FS.' },
  { id: 'q_ias1_09', moduleId: 'm_ias1', taxonomy: 'Understand', question: 'Frequency of reporting?', options: ['At least annually', 'Bi-annually', 'Quarterly', 'Management discretion'], correctAnswer: 0, explanation: 'IAS 1 requires FS at least annually.' },
  { id: 'q_ias1_10', moduleId: 'm_ias1', taxonomy: 'Apply', question: 'Offsetting a receivable and payable from the same client?', options: ['Always permitted', 'Never permitted', 'Permitted if legal right & intention to net', 'Permitted if material'], correctAnswer: 2, explanation: 'Requires currently enforceable legal right AND intention to settle net.' },

  // --- IAS 2 (m_ias2) ---
  { id: 'q_ias2_01', moduleId: 'm_ias2', taxonomy: 'Apply', question: 'Cost $100. Selling Price $120. Selling Costs $5. Completion Costs $20. Value?', options: ['$100', '$95', '$120', '$115'], correctAnswer: 1, explanation: 'NRV = 120 - 5 - 20 = 95. Lower of Cost (100) and NRV (95) is 95.' },
  { id: 'q_ias2_02', moduleId: 'm_ias2', taxonomy: 'Analyze', question: 'Storage costs for finished goods awaiting sale?', options: ['Capitalize in Inventory', 'Expense as incurred', 'Allocate overheads', 'Offset against revenue'], correctAnswer: 1, explanation: 'Storage costs are expensed unless necessary for the production process (e.g. drying/maturing).' },
  { id: 'q_ias2_03', moduleId: 'm_ias2', taxonomy: 'Apply', question: 'Inventory bought for $1000 on 2-year interest-free credit. Cash price $800.', options: ['Inventory $1000', 'Inventory $800, Interest $200', 'Inventory $900', 'Expense $1000'], correctAnswer: 1, explanation: 'Inventory measured at cash price ($800). Difference ($200) is interest expense over 2 years.' },
  { id: 'q_ias2_04', moduleId: 'm_ias2', taxonomy: 'Analyze', question: 'Allocation of fixed overheads when production is abnormally low?', options: ['Actual production', 'Normal capacity', 'Sales volume', 'Zero'], correctAnswer: 1, explanation: 'Must allocate based on NORMAL capacity. Unallocated portion is expensed.' },
  { id: 'q_ias2_05', moduleId: 'm_ias2', taxonomy: 'Understand', question: 'Which cost formula is PROHIBITED?', options: ['FIFO', 'Weighted Average', 'LIFO', 'Standard Cost'], correctAnswer: 2, explanation: 'LIFO (Last-In, First-Out) is prohibited under IAS 2.' },
  { id: 'q_ias2_06', moduleId: 'm_ias2', taxonomy: 'Apply', question: 'Import duties $50 (refundable) and $20 (non-refundable). Include?', options: ['$70', '$50', '$20', '$0'], correctAnswer: 2, explanation: 'Only non-refundable duties ($20) are included in cost.' },
  { id: 'q_ias2_07', moduleId: 'm_ias2', taxonomy: 'Evaluate', question: 'Marketing costs for new product launch?', options: ['Include in Inventory', 'Capitalize as Intangible', 'Expense', 'Deferred Asset'], correctAnswer: 2, explanation: 'Selling and marketing costs are always expensed.' },
  { id: 'q_ias2_08', moduleId: 'm_ias2', taxonomy: 'Apply', question: 'Inventory write-down reversal?', options: ['Prohibited', 'Recognize as Income', 'Reduce Cost of Sales', 'Credit Equity'], correctAnswer: 2, explanation: 'Reversal is recognized as a reduction in the amount of inventories expensed (Cost of Sales).' },
  { id: 'q_ias2_09', moduleId: 'm_ias2', taxonomy: 'Analyze', question: 'Inventory lost due to theft (abnormal).', options: ['Include in Cost of Goods Sold', 'Expense immediately', 'Keep in Inventory', 'Asset'], correctAnswer: 1, explanation: 'Abnormal waste/loss is expensed immediately.' },
  { id: 'q_ias2_10', moduleId: 'm_ias2', taxonomy: 'Understand', question: 'Service Provider Inventory?', options: ['Not allowed', 'Labor + Overheads', 'Sales Price', 'Zero'], correctAnswer: 1, explanation: 'Consists of labor and other costs of personnel directly engaged in providing the service.' },

  // --- IAS 7 (m_ias7) ---
  { id: 'q_ias7_01', moduleId: 'm_ias7', taxonomy: 'Apply', question: 'Proceeds from sale of Machinery?', options: ['Operating', 'Investing', 'Financing', 'Non-cash'], correctAnswer: 1, explanation: 'Disposal of long-term assets is an Investing Activity.' },
  { id: 'q_ias7_02', moduleId: 'm_ias7', taxonomy: 'Analyze', question: 'Indirect Method: Depreciation Expense?', options: ['Deduct from Profit', 'Add to Profit', 'Ignore', 'Financing outflow'], correctAnswer: 1, explanation: 'Add back. It is a non-cash expense that reduced profit.' },
  { id: 'q_ias7_03', moduleId: 'm_ias7', taxonomy: 'Apply', question: 'Repayment of Loan Principal?', options: ['Operating', 'Investing', 'Financing', 'Note only'], correctAnswer: 2, explanation: 'Repayment of borrowings is a Financing Activity.' },
  { id: 'q_ias7_04', moduleId: 'm_ias7', taxonomy: 'Understand', question: 'Cash Equivalent maturity threshold?', options: ['3 months or less', '6 months', '12 months', 'No limit'], correctAnswer: 0, explanation: 'Short-term, highly liquid investments, normally 3 months or less from acquisition.' },
  { id: 'q_ias7_05', moduleId: 'm_ias7', taxonomy: 'Apply', question: 'Acquisition of Subsidiary (Net cash paid)?', options: ['Operating', 'Investing', 'Financing', 'None'], correctAnswer: 1, explanation: 'Acquisition of control is an Investing Activity.' },
  { id: 'q_ias7_06', moduleId: 'm_ias7', taxonomy: 'Evaluate', question: 'Gain on disposal of asset (in P&L)?', options: ['Investing Inflow', 'Deduct from Profit (Indirect)', 'Add to Profit', 'Financing'], correctAnswer: 1, explanation: 'Deduct from profit in Operating section (to remove non-cash gain). The cash proceeds appear in Investing.' },
  { id: 'q_ias7_07', moduleId: 'm_ias7', taxonomy: 'Analyze', question: 'Bonus issue of shares?', options: ['Financing Inflow', 'Operating', 'Investing', 'Non-cash (Exclude)'], correctAnswer: 3, explanation: 'No cash flow involved. Disclosed in notes/SOCE, excluded from Cash Flow Statement.' },
  { id: 'q_ias7_08', moduleId: 'm_ias7', taxonomy: 'Apply', question: 'Interest Paid classification?', options: ['Operating only', 'Financing only', 'Operating or Financing', 'Investing'], correctAnswer: 2, explanation: 'IAS 7 allows choice (Operating or Financing), provided consistency.' },
  { id: 'q_ias7_09', moduleId: 'm_ias7', taxonomy: 'Understand', question: 'Taxes Paid?', options: ['Investing', 'Financing', 'Operating', 'Equity'], correctAnswer: 2, explanation: 'Operating, unless specifically identified with investing/financing.' },
  { id: 'q_ias7_10', moduleId: 'm_ias7', taxonomy: 'Analyze', question: 'Unrealized FX loss on cash held?', options: ['Operating outflow', 'Financing', 'Reconciliation adjustment', 'Investing'], correctAnswer: 2, explanation: 'Not a cash flow. Adjusted at bottom of statement to reconcile cash balances.' },

  // --- IAS 8 (m_ias8) ---
  { id: 'q_ias8_01', moduleId: 'm_ias8', taxonomy: 'Analyze', question: 'Change from FIFO to Weighted Average?', options: ['Policy (Retrospective)', 'Estimate (Prospective)', 'Error Correction', 'None'], correctAnswer: 0, explanation: 'Change in measurement basis (Cost formula) is a Change in Accounting Policy.' },
  { id: 'q_ias8_02', moduleId: 'm_ias8', taxonomy: 'Apply', question: 'Change in useful life of PPE?', options: ['Retrospective', 'Prospective', 'Restate PY', 'Error'], correctAnswer: 1, explanation: 'Change in Accounting Estimate. Applied prospectively.' },
  { id: 'q_ias8_03', moduleId: 'm_ias8', taxonomy: 'Remember', question: 'Material Prior Period Error discovered?', options: ['Expense in current year', 'Retrospective Restatement', 'Note only', 'Ignore'], correctAnswer: 1, explanation: 'Must restate comparative information for prior period(s) presented.' },
  { id: 'q_ias8_04', moduleId: 'm_ias8', taxonomy: 'Analyze', question: 'Change in Depreciation Method (Reducing Balance to Straight Line)?', options: ['Policy Change', 'Estimate Change', 'Error', 'Revaluation'], correctAnswer: 1, explanation: 'Change in expected pattern of consumption is a Change in Estimate.' },
  { id: 'q_ias8_05', moduleId: 'm_ias8', taxonomy: 'Understand', question: 'When is a Policy Change allowed?', options: ['To improve profit', 'Required by IFRS or better presentation', 'Management choice', 'Tax reasons'], correctAnswer: 1, explanation: 'Only if required by IFRS or results in reliable and more relevant information.' },
  { id: 'q_ias8_06', moduleId: 'm_ias8', taxonomy: 'Apply', question: 'Adoption of new IFRS standard?', options: ['Estimate', 'Error', 'Policy', 'None'], correctAnswer: 2, explanation: 'New standard adoption is a Change in Policy (follow transitional provisions).' },
  { id: 'q_ias8_07', moduleId: 'm_ias8', taxonomy: 'Evaluate', question: 'Immaterial error discovered from last year?', options: ['Restate', 'Correct in current year P&L', 'Ignore', 'Equity'], correctAnswer: 1, explanation: 'Immaterial errors can be corrected in the current period.' },
  { id: 'q_ias8_08', moduleId: 'm_ias8', taxonomy: 'Apply', question: 'Change in provision for warranty based on new data?', options: ['Policy', 'Estimate', 'Error', 'Subsequent Event'], correctAnswer: 1, explanation: 'New information/data -> Change in Estimate.' },
  { id: 'q_ias8_09', moduleId: 'm_ias8', taxonomy: 'Remember', question: 'Prospective application means?', options: ['Adjust opening equity', 'Adjust current and future periods', 'Re-issue FS', 'Note only'], correctAnswer: 1, explanation: 'Do not adjust past. Recognize effect in current and future periods.' },
  { id: 'q_ias8_10', moduleId: 'm_ias8', taxonomy: 'Understand', question: 'Hierarchy if no IFRS applies?', options: ['Tax Law', 'Industry Norms', 'Conceptual Framework', 'CEO opinion'], correctAnswer: 2, explanation: 'Management refers to IFRS on similar issues, then the Conceptual Framework.' },

  // --- IAS 10 (m_ias10) ---
  { id: 'q_ias10_01', moduleId: 'm_ias10', taxonomy: 'Apply', question: 'Fire destroys warehouse 2 weeks after year-end?', options: ['Adjusting', 'Non-adjusting', 'Provision', 'Ignore'], correctAnswer: 1, explanation: 'Condition (fire) did not exist at year-end. Non-adjusting. Disclose.' },
  { id: 'q_ias10_02', moduleId: 'm_ias10', taxonomy: 'Analyze', question: 'Customer bankrupt after year-end (balance was overdue at YE)?', options: ['Adjusting', 'Non-adjusting', 'Ignore', 'Contingency'], correctAnswer: 0, explanation: 'Adjusting. Provides evidence that the receivable was impaired AT the reporting date.' },
  { id: 'q_ias10_03', moduleId: 'm_ias10', taxonomy: 'Apply', question: 'Dividend declared after year-end?', options: ['Liability', 'Adjusting', 'Non-adjusting (Note)', 'Equity deduction'], correctAnswer: 2, explanation: 'No obligation existed at year-end. Non-adjusting.' },
  { id: 'q_ias10_04', moduleId: 'm_ias10', taxonomy: 'Evaluate', question: 'Management decides to liquidate entity after YE?', options: ['Non-adjusting', 'Adjusting (Break-up basis)', 'Note only', 'Ignore'], correctAnswer: 1, explanation: 'Fundamental adjustment. Going concern assumption is no longer appropriate.' },
  { id: 'q_ias10_05', moduleId: 'm_ias10', taxonomy: 'Apply', question: 'Inventory sold after YE for LESS than cost?', options: ['Adjusting', 'Non-adjusting', 'Ignore', 'Revenue'], correctAnswer: 0, explanation: 'Adjusting. Provides evidence of NRV at reporting date.' },
  { id: 'q_ias10_06', moduleId: 'm_ias10', taxonomy: 'Apply', question: 'Court case settled after YE (confirmed obligation existing at YE)?', options: ['Adjusting', 'Non-adjusting', 'Contingent Liab', 'Ignore'], correctAnswer: 0, explanation: 'Adjusting. Confirms the amount of obligation.' },
  { id: 'q_ias10_07', moduleId: 'm_ias10', taxonomy: 'Analyze', question: 'Purchase of subsidiary after YE?', options: ['Adjusting', 'Non-adjusting', 'Consolidate', 'Equity'], correctAnswer: 1, explanation: 'Non-adjusting. Major transaction after date.' },
  { id: 'q_ias10_08', moduleId: 'm_ias10', taxonomy: 'Understand', question: 'Authorization Date?', options: ['AGM date', 'Directors approval date', 'Printing date', 'Audit start'], correctAnswer: 1, explanation: 'Date the financial statements are authorized for issue by the Board.' },
  { id: 'q_ias10_09', moduleId: 'm_ias10', taxonomy: 'Apply', question: 'Decline in fair value of investments after YE?', options: ['Adjusting', 'Non-adjusting', 'Impairment', 'Write down'], correctAnswer: 1, explanation: 'Non-adjusting. Reflects market conditions after the reporting period.' },
  { id: 'q_ias10_10', moduleId: 'm_ias10', taxonomy: 'Evaluate', question: 'Discovery of major fraud after YE?', options: ['Adjusting', 'Non-adjusting', 'Next year expense', 'Ignore'], correctAnswer: 0, explanation: 'Adjusting. Shows FS were incorrect.' },

  // --- IAS 12: Income Taxes (m_ias12) ---
  { id: 'q_ias12_01', moduleId: 'm_ias12', taxonomy: 'Apply', question: 'Machine CA $120k. Tax Base $80k. Rate 25%. Deferred Tax?', options: ['DTA $10k', 'DTL $10k', 'DTA $30k', 'DTL $30k'], correctAnswer: 1, explanation: 'Taxable Temp Diff $40k (120-80). DTL = 40k * 25% = $10k.' },
  { id: 'q_ias12_02', moduleId: 'm_ias12', taxonomy: 'Analyze', question: 'Revaluation Gain $100k. Tax Rate 20%. Where is DTL charged?', options: ['P&L', 'OCI', 'Retained Earnings', 'Share Premium'], correctAnswer: 1, explanation: 'Matches the underlying transaction. Revaluation is in OCI, so tax charge is in OCI.' },
  { id: 'q_ias12_03', moduleId: 'm_ias12', taxonomy: 'Apply', question: 'Tax base of Revenue in Advance (taxed on receipt)?', options: ['Carrying Amount', 'Zero', 'Revenue amount', 'Negative'], correctAnswer: 1, explanation: 'Carrying Amount - Future Taxable Amount (which is 0 as already taxed) = CA. Wait. Rule: TB = CA - Future Non-taxable. If taxed on receipt, future tax is 0. So TB = 0. (Liability CA 100 - 100 = 0).' },
  { id: 'q_ias12_04', moduleId: 'm_ias12', taxonomy: 'Evaluate', question: 'Unused tax losses with history of losses?', options: ['Always recognize DTA', 'Never recognize', 'Recognize only if convincing evidence of future profit', 'Recognize 50%'], correctAnswer: 2, explanation: 'Need convincing evidence that sufficient taxable profit will be available.' },
  { id: 'q_ias12_05', moduleId: 'm_ias12', taxonomy: 'Apply', question: 'Development costs capitalized $50k (100% tax deduction). Tax Rate 30%.', options: ['DTL $15k', 'DTA $15k', 'No DT', 'Current Tax $15k'], correctAnswer: 0, explanation: 'Asset CA $50k. Tax Base $0 (fully deducted). Taxable Diff $50k. DTL = $15k.' },
  { id: 'q_ias12_06', moduleId: 'm_ias12', taxonomy: 'Understand', question: 'Change in Tax Rate from 20% to 25%. Effect on DTL $100?', options: ['$25 Charge P&L', '$5 Charge P&L', '$5 Credit P&L', 'No change'], correctAnswer: 1, explanation: 'Increase in liability = Expense. 100/0.20 * 0.25 = 125. Increase 25. Or just 100 * (25/20 - 1)? Wait. If DTL was 100 @ 20%, Temp Diff is 500. New DTL = 500 * 25% = 125. Increase 25.' },
  { id: 'q_ias12_07', moduleId: 'm_ias12', taxonomy: 'Apply', question: 'Initial Recognition Exemption applies to?', options: ['Business Combinations', 'Purchase of Machine (no tax deduction)', 'Goodwill', 'Revaluation'], correctAnswer: 1, explanation: 'Applies to asset purchase that is not a business combination and affects neither accounting nor taxable profit.' },
  { id: 'q_ias12_08', moduleId: 'm_ias12', taxonomy: 'Analyze', question: 'Goodwill Initial Recognition. DTL?', options: ['Recognize DTL', 'Do not recognize DTL', 'Recognize DTA', 'Offset'], correctAnswer: 1, explanation: 'IAS 12 specifically prohibits recognizing DTL arising from initial recognition of Goodwill.' },
  { id: 'q_ias12_09', moduleId: 'm_ias12', taxonomy: 'Evaluate', question: 'Investment Property (Fair Value). Recovery method?', options: ['Assume sale', 'Assume use', 'Management choice', 'Inflation rate'], correctAnswer: 0, explanation: 'Rebuttable presumption that CA is recovered through sale.' },
  { id: 'q_ias12_10', moduleId: 'm_ias12', taxonomy: 'Understand', question: 'Current Tax measurement?', options: ['Discounted', 'Undiscounted amount payable', 'Fair Value', 'Estimate'], correctAnswer: 1, explanation: 'Amount expected to be paid using rates enacted/substantively enacted. Undiscounted.' },

  // --- IAS 16 (m_ias16) ---
  { id: 'q_ias16_01', moduleId: 'm_ias16', taxonomy: 'Apply', question: 'Cost $100. Delivery $10. Install $5. Refundable Tax $20. Training $8. Capitalize?', options: ['$115', '$135', '$143', '$123'], correctAnswer: 0, explanation: '100 + 10 + 5 = 115. Exclude refundable tax and training.' },
  { id: 'q_ias16_02', moduleId: 'm_ias16', taxonomy: 'Apply', question: 'Revaluation: CA $80. FV $100. Remaining life 10 yrs. New Depn?', options: ['$8', '$10', '$12', '$20'], correctAnswer: 1, explanation: 'Depreciation based on Revalued Amount ($100) / Remaining Life (10) = $10.' },
  { id: 'q_ias16_03', moduleId: 'm_ias16', taxonomy: 'Analyze', question: 'Revaluation Loss $30. Previous Surplus $10. Treatment?', options: ['$30 P&L', '$10 OCI / $20 P&L', '$30 OCI', '$30 Equity'], correctAnswer: 1, explanation: 'Debit OCI to eliminate surplus ($10), excess ($20) to P&L.' },
  { id: 'q_ias16_04', moduleId: 'm_ias16', taxonomy: 'Apply', question: 'Major inspection cost $50. Old inspection CA $10. Treatment?', options: ['Cap $50, Keep $10', 'Cap $50, Derecognize $10', 'Expense $50', 'Expense $40'], correctAnswer: 1, explanation: 'Capitalize new inspection cost. Derecognize carrying amount of physical part replaced (or old inspection cost).' },
  { id: 'q_ias16_05', moduleId: 'm_ias16', taxonomy: 'Understand', question: 'Asset Exchange (No commercial substance)?', options: ['Fair Value', 'Carrying Amount of asset given up', 'Zero', 'Cash paid'], correctAnswer: 1, explanation: 'Measure at carrying amount of asset given up.' },
  { id: 'q_ias16_06', moduleId: 'm_ias16', taxonomy: 'Evaluate', question: 'Change in useful life?', options: ['Retrospective (Prior Period)', 'Prospective (Change in Estimate)', 'Current year only', 'Error'], correctAnswer: 1, explanation: 'Change in accounting estimate.' },
  { id: 'q_ias16_07', moduleId: 'm_ias16', taxonomy: 'Analyze', question: 'Machine breakdown repair costs?', options: ['Capitalize', 'Expense', 'Provision', 'Defer'], correctAnswer: 1, explanation: 'Repairs and maintenance are expensed.' },
  { id: 'q_ias16_08', moduleId: 'm_ias16', taxonomy: 'Apply', question: 'Safety equipment required by law?', options: ['Capitalize', 'Expense', 'Intangible', 'Contingent Asset'], correctAnswer: 0, explanation: 'Capitalize. Essential for obtaining future economic benefits from other assets.' },
  { id: 'q_ias16_09', moduleId: 'm_ias16', taxonomy: 'Understand', question: 'Depreciation starts when?', options: ['Purchased', 'Available for use', 'Used', 'Full capacity'], correctAnswer: 1, explanation: 'When it is in the location and condition necessary for it to be capable of operating.' },
  { id: 'q_ias16_10', moduleId: 'm_ias16', taxonomy: 'Apply', question: 'Disposal: Proceeds $50. CA $40. Reval Surplus $10.', options: ['Gain $10 P&L', 'Gain $20 P&L', 'Gain $10 P&L, Transfer $10 Retained Earnings', 'Gain $10 OCI'], correctAnswer: 2, explanation: 'Gain = 50 - 40 = 10 (P&L). Realize surplus (10) to Retained Earnings (Equity movement, not P&L).' },

  // --- IAS 19 (m_ias19) ---
  { id: 'q_ias19_01', moduleId: 'm_ias19', taxonomy: 'Apply', question: 'Defined Contribution Plan expense?', options: ['Contribution payable', 'PV of obligation', 'Actuarial estimate', 'Cash paid'], correctAnswer: 0, explanation: 'Expense is the contribution payable for the period.' },
  { id: 'q_ias19_02', moduleId: 'm_ias19', taxonomy: 'Apply', question: 'Net Interest: Obligation $1000. Assets $900. Discount Rate 5%.', options: ['$50 Expense', '$45 Income', '$5 Expense', '$5 Income'], correctAnswer: 2, explanation: 'Net Liability = 100. Net Interest = 100 * 5% = 5 Expense. (Or: Int Cost 50 - Int Inc 45 = 5).' },
  { id: 'q_ias19_03', moduleId: 'm_ias19', taxonomy: 'Analyze', question: 'Past Service Cost (Plan improvement)?', options: ['Defer over vesting', 'Expense immediately', 'OCI', 'Asset'], correctAnswer: 1, explanation: 'Recognize as expense at the earlier of: plan amendment or restructuring/curtailment.' },
  { id: 'q_ias19_04', moduleId: 'm_ias19', taxonomy: 'Understand', question: 'Actuarial Loss on obligation?', options: ['Increase P&L expense', 'Decrease P&L expense', 'Recognize in OCI', 'Ignore'], correctAnswer: 2, explanation: 'Remeasurements (Actuarial gains/losses) go to OCI.' },
  { id: 'q_ias19_05', moduleId: 'm_ias19', taxonomy: 'Evaluate', question: 'Asset Ceiling applies when?', options: ['Plan is in deficit', 'Plan is in surplus', 'Always', 'Never'], correctAnswer: 1, explanation: 'Limits the recognized asset when a plan is in surplus.' },
  { id: 'q_ias19_06', moduleId: 'm_ias19', taxonomy: 'Apply', question: 'Bonus plan accrual?', options: ['When paid', 'When legal/constructive obligation exists', 'Management discretion', 'Next year'], correctAnswer: 1, explanation: 'Accrue when entity has a legal/constructive obligation and reliable estimate.' },
  { id: 'q_ias19_07', moduleId: 'm_ias19', taxonomy: 'Remember', question: 'Discount Rate benchmark?', options: ['Risk-free rate', 'Equity return', 'High Quality Corporate Bonds', 'Inflation'], correctAnswer: 2, explanation: 'Yield on High Quality Corporate Bonds.' },
  { id: 'q_ias19_08', moduleId: 'm_ias19', taxonomy: 'Understand', question: 'Current Service Cost?', options: ['Increase in PV due to current service', 'Cash paid', 'Benefits paid', 'Interest'], correctAnswer: 0, explanation: 'Increase in PV of DBO resulting from employee service in current period.' },
  { id: 'q_ias19_09', moduleId: 'm_ias19', taxonomy: 'Analyze', question: 'Settlement of plan (Lump sum paid). Gain/Loss?', options: ['OCI', 'P&L', 'Retained Earnings', 'Defer'], correctAnswer: 1, explanation: 'Gain or loss on settlement is recognized in P&L.' },
  { id: 'q_ias19_10', moduleId: 'm_ias19', taxonomy: 'Evaluate', question: 'Termination benefits expense timing?', options: ['When paid', 'When offer cannot be withdrawn', 'Over future service', 'Immediate'], correctAnswer: 1, explanation: 'Earlier of: when offer cannot be withdrawn OR when restructuring provision recognized.' },

  // --- IAS 20 (m_ias20) ---
  { id: 'q_ias20_01', moduleId: 'm_ias20', taxonomy: 'Apply', question: 'Grant $100 for machine (Cost $500). Asset presentation?', options: ['Asset $500, Income $100', 'Asset $400', 'Asset $500, Liability $100', 'B or C'], correctAnswer: 3, explanation: 'Option to deduct from asset ($400) OR recognize Deferred Income ($500 Asset, $100 Liab).' },
  { id: 'q_ias20_02', moduleId: 'm_ias20', taxonomy: 'Analyze', question: 'Grant repayment (Deferred Income method). Balance $80. Repay $100.', options: ['$20 Expense', '$100 Expense', '$20 Asset', '$80 Expense'], correctAnswer: 0, explanation: 'Reduce Deferred Income to zero ($80), excess ($20) is expense.' },
  { id: 'q_ias20_03', moduleId: 'm_ias20', taxonomy: 'Apply', question: 'Grant for immediate financial support (no future costs)?', options: ['Deferred Income', 'P&L immediately', 'OCI', 'Equity'], correctAnswer: 1, explanation: 'Recognize in P&L when receivable.' },
  { id: 'q_ias20_04', moduleId: 'm_ias20', taxonomy: 'Apply', question: 'Low interest loan (0%) from Govt. $1m. PV $800k.', options: ['Grant $0', 'Grant $200k', 'Grant $1m', 'Liability $1m'], correctAnswer: 1, explanation: 'Grant = Cash ($1m) - Fair Value ($800k) = $200k.' },
  { id: 'q_ias20_05', moduleId: 'm_ias20', taxonomy: 'Understand', question: 'Recognition timing?', options: ['Cash received', 'Reasonable assurance', 'Application submitted', 'Spent'], correctAnswer: 1, explanation: 'Reasonable assurance of compliance and receipt.' },
  { id: 'q_ias20_06', moduleId: 'm_ias20', taxonomy: 'Evaluate', question: 'Non-monetary grant (Land)?', options: ['Nominal amount', 'Fair Value', 'Zero', 'Cost'], correctAnswer: 1, explanation: 'Usually recorded at Fair Value.' },
  { id: 'q_ias20_07', moduleId: 'm_ias20', taxonomy: 'Apply', question: 'Grant conditional on creating jobs over 3 years?', options: ['Income Year 1', 'Income Year 3', 'Spread over 3 years', 'Capital'], correctAnswer: 2, explanation: 'Match with the related costs (wages) over the 3 years.' },
  { id: 'q_ias20_08', moduleId: 'm_ias20', taxonomy: 'Analyze', question: 'Presentation of grant income?', options: ['Revenue', 'Other Income or deduct expense', 'OCI', 'Finance Income'], correctAnswer: 1, explanation: 'Credit "Other Income" or deduct from related expense.' },
  { id: 'q_ias20_09', moduleId: 'm_ias20', taxonomy: 'Understand', question: 'Tax implication of Deductible Grant (Net method)?', options: ['None', 'Taxable Temp Diff', 'Deductible Temp Diff', 'Permanent Diff'], correctAnswer: 1, explanation: 'Asset CA is lower than Tax Base (if tax ignores grant). CA < TB = DTA? Wait. Asset 80 (100-20). Tax Base 100. CA < TB -> DTA? Actually usually Grant is taxable. If Grant deducted from Asset, Future Deductions (Depn) are lower. Tax Base is higher. Taxable Temp Diff arises? No. Asset CA 80. TB 100. Deductible Temp Diff -> DTA.' },
  { id: 'q_ias20_10', moduleId: 'm_ias20', taxonomy: 'Analyze', question: 'Repayment of grant (Deducted from Asset)?', options: ['Expense', 'Increase Asset CA', 'Decrease Asset CA', 'Liability'], correctAnswer: 1, explanation: 'Increase the carrying amount of the asset. Cumulative depreciation adjustment expensed.' },

  // --- IAS 24 (m_ias24) ---
  { id: 'q_ias24_01', moduleId: 'm_ias24', taxonomy: 'Apply', question: 'CEO\'s wife controls Supplier X. Is X related?', options: ['Yes', 'No', 'Only if transaction', 'Maybe'], correctAnswer: 0, explanation: 'Yes. Close family of KMP controls the entity.' },
  { id: 'q_ias24_02', moduleId: 'm_ias24', taxonomy: 'Analyze', question: 'Two Ventures (JV) share a common Venturer. Related?', options: ['Yes', 'No', 'If significant', 'Only if traded'], correctAnswer: 1, explanation: 'Co-venturers are not necessarily related to each other.' },
  { id: 'q_ias24_03', moduleId: 'm_ias24', taxonomy: 'Understand', question: 'Disclosure of Parent name?', options: ['Only if trading', 'Always', 'If public', 'Never'], correctAnswer: 1, explanation: 'Relationships between parent and subsidiaries must be disclosed irrespective of transactions.' },
  { id: 'q_ias24_04', moduleId: 'm_ias24', taxonomy: 'Apply', question: 'Goods sold to Sub at cost. Disclosure?', options: ['No disclosure (arms length)', 'Disclose transaction', 'Disclose only if profit', 'Consolidate only'], correctAnswer: 1, explanation: 'Must disclose nature and amount of transaction in Separate FS. (Eliminated in Consolidated, but question implies RP disclosure context).' },
  { id: 'q_ias24_05', moduleId: 'm_ias24', taxonomy: 'Remember', question: 'KMP Compensation disclosure?', options: ['Total only', 'Total + Categories', 'Individual', 'None'], correctAnswer: 1, explanation: 'Total and for each category (Short-term, Post-employment, etc.).' },
  { id: 'q_ias24_06', moduleId: 'm_ias24', taxonomy: 'Evaluate', question: 'Government-controlled entity exemption?', options: ['No disclosure', 'Reduced disclosure', 'Full disclosure', 'No exemption'], correctAnswer: 1, explanation: 'Exempt from detailed transaction info. Must disclose Govt name/relationship.' },
  { id: 'q_ias24_07', moduleId: 'm_ias24', taxonomy: 'Apply', question: 'Associate selling to Parent. Related?', options: ['Yes', 'No', 'Only Parent related to Assoc', 'One way'], correctAnswer: 0, explanation: 'Yes, Associate and Parent are related parties.' },
  { id: 'q_ias24_08', moduleId: 'm_ias24', taxonomy: 'Understand', question: 'Bank providing loan. Related?', options: ['Yes', 'No', 'If large loan', 'If director on board'], correctAnswer: 1, explanation: 'Providers of finance are not related parties simply by virtue of their normal dealings.' },
  { id: 'q_ias24_09', moduleId: 'm_ias24', taxonomy: 'Analyze', question: 'Major customer (80% sales). Related?', options: ['Yes (Economic dependence)', 'No', 'If contract exists', 'If shareholding'], correctAnswer: 1, explanation: 'Economic dependence does not create a related party relationship.' },
  { id: 'q_ias24_10', moduleId: 'm_ias24', taxonomy: 'Apply', question: 'Close family member definition?', options: ['Brother', 'Spouse/Child', 'Uncle/Aunt', 'Cousin'], correctAnswer: 1, explanation: 'Spouse, children, dependents. Siblings/Uncles usually excluded unless dependent.' },

  // --- IAS 27 (m_ias27) ---
  { id: 'q_ias27_01', moduleId: 'm_ias27', taxonomy: 'Remember', question: 'Separate Financial Statements are presented by:', options: ['Every entity', 'An entity with subsidiaries, associates or JVs', 'Only Listed companies', 'Only Investment Entities'], correctAnswer: 1, explanation: 'Presented by a parent, an investor in an associate or a venturer in a JV (optional unless required by law).' },
  { id: 'q_ias27_02', moduleId: 'm_ias27', taxonomy: 'Analyze', question: 'Policy choice for subsidiaries in Separate FS: Cost or Fair Value. Can you mix them?', options: ['Yes, by subsidiary', 'No, apply same method to each category', 'Yes, by region', 'Yes, if material'], correctAnswer: 1, explanation: 'Must apply the same accounting for each category of investments.' },
  { id: 'q_ias27_03', moduleId: 'm_ias27', taxonomy: 'Apply', question: 'Dividends received from subsidiary (Cost Method)?', options: ['Reduce Cost of Investment', 'P&L Income', 'Equity', 'OCI'], correctAnswer: 1, explanation: 'Recognized in Profit or Loss.' },
  { id: 'q_ias27_04', moduleId: 'm_ias27', taxonomy: 'Evaluate', question: 'Investment Entity must measure subs at?', options: ['Cost', 'Equity Method', 'Fair Value through P&L', 'Fair Value through OCI'], correctAnswer: 2, explanation: 'Investment Entities are required to measure investments in subsidiaries at FVTPL.' },
  { id: 'q_ias27_05', moduleId: 'm_ias27', taxonomy: 'Understand', question: 'Consolidated FS vs Separate FS?', options: ['Separate are mandatory', 'Consolidated are group view, Separate are legal entity view', 'Separate are tax view', 'Consolidated exclude foreign subs'], correctAnswer: 1, explanation: 'Consolidated FS present the group as a single economic entity; Separate FS present the investor\'s individual position.' },
  { id: 'q_ias27_06', moduleId: 'm_ias27', taxonomy: 'Apply', question: 'Sub declared dividend $1m. Pre-acquisition profit was $500k. How much to P&L?', options: ['$500k', '$0', '$1m', '$250k'], correctAnswer: 2, explanation: 'All dividends are recognized in P&L, regardless of whether they are paid from pre or post-acquisition profits.' },
  { id: 'q_ias27_07', moduleId: 'm_ias27', taxonomy: 'Analyze', question: 'Transaction costs for investment measured at Fair Value?', options: ['Capitalize', 'Expense', 'Equity', 'Defer'], correctAnswer: 1, explanation: 'Transaction costs for FVTPL assets are expensed immediately.' },
  { id: 'q_ias27_08', moduleId: 'm_ias27', taxonomy: 'Remember', question: 'If Equity Method is selected for Separate FS, it must be:', options: ['Different from Consolidated FS', 'Same as IAS 28 in Consolidated FS', 'Modified Equity Method', 'Cost Method'], correctAnswer: 1, explanation: 'Must be applied as described in IAS 28.' },
  { id: 'q_ias27_09', moduleId: 'm_ias27', taxonomy: 'Evaluate', question: 'Parent prepares Separate FS. Does it need to prepare Consolidated FS?', options: ['Yes, unless exempted', 'No, Separate is enough', 'Only if listed', 'Never'], correctAnswer: 0, explanation: 'Consolidated FS are primary. Separate FS are secondary/optional unless specific exemptions apply.' },
  { id: 'q_ias27_10', moduleId: 'm_ias27', taxonomy: 'Apply', question: 'Investment becomes Held for Sale (Cost Method)?', options: ['Stay at Cost', 'Apply IFRS 5', 'Change to FV', 'Write off'], correctAnswer: 1, explanation: 'Account for in accordance with IFRS 5 (Lower of CA and FV less costs to sell).' },

  // --- IAS 28 (m_ias28) ---
  { id: 'q_ias28_01', moduleId: 'm_ias28', taxonomy: 'Apply', question: 'Alpha buys 30% of Beta for $10m. Beta Profit $2m. Dividend $0.5m. Alpha\'s CA?', options: ['$10.6m', '$10.45m', '$10m', '$10.6m'], correctAnswer: 1, explanation: 'Cost 10 + Share Profit (2*30%) - Share Div (0.5*30%) = 10 + 0.6 - 0.15 = 10.45m.' },
  { id: 'q_ias28_02', moduleId: 'm_ias28', taxonomy: 'Analyze', question: 'Downstream sale (Investor to Assoc). Profit $100. Investor owns 25%. Unsold stock.', options: ['Recognize $100', 'Eliminate $100', 'Eliminate $25', 'Ignore'], correctAnswer: 2, explanation: 'Eliminate unrealized profit to the extent of the investor\'s interest (25% * 100 = 25).' },
  { id: 'q_ias28_03', moduleId: 'm_ias28', taxonomy: 'Understand', question: 'Significant Influence presumed at?', options: ['>10%', '>20%', '>50%', 'Control'], correctAnswer: 1, explanation: 'Presumed if holding 20% or more of voting power.' },
  { id: 'q_ias28_04', moduleId: 'm_ias28', taxonomy: 'Evaluate', question: 'Associate makes heavy losses. Investment CA is zero. Further losses?', options: ['Recognize Liability', 'Stop recognizing', 'Debit Retained Earnings', 'Impair Goodwill'], correctAnswer: 1, explanation: 'Discontinue recognizing share of losses unless legal/constructive obligation to pay on behalf of associate.' },
  { id: 'q_ias28_05', moduleId: 'm_ias28', taxonomy: 'Analyze', question: 'Goodwill in Associate?', options: ['Recognize separately', 'Amortize', 'Included in Investment Cost', 'Expense'], correctAnswer: 2, explanation: 'Included in the carrying amount of the investment. Not separately recognized or tested for impairment.' },
  { id: 'q_ias28_06', moduleId: 'm_ias28', taxonomy: 'Apply', question: 'Impairment of Associate. Recoverable Amount $8m. CA $10m.', options: ['Impair Goodwill', 'Impair Investment $2m', 'Pro-rata assets', 'No impairment'], correctAnswer: 1, explanation: 'Impair the entire investment as a single asset by $2m.' },
  { id: 'q_ias28_07', moduleId: 'm_ias28', taxonomy: 'Remember', question: 'Venture Capital Organization exemption?', options: ['Consolidate', 'Equity Method', 'FVTPL', 'Cost'], correctAnswer: 2, explanation: 'Can measure investments in associates at Fair Value through Profit or Loss.' },
  { id: 'q_ias28_08', moduleId: 'm_ias28', taxonomy: 'Evaluate', question: 'Diff reporting dates. Associate is 31 Dec, Investor is 30 June. Gap is 6 months.', options: ['Acceptable', 'Adjust', 'Not Acceptable', 'Pro-rate'], correctAnswer: 2, explanation: 'Maximum difference allowed is 3 months.' },
  { id: 'q_ias28_09', moduleId: 'm_ias28', taxonomy: 'Analyze', question: 'Step acquisition: 10% (FVTOCI) to 30% (Associate). Treatment of 10%?', options: ['Keep at Cost', 'Remeasure to FV (P&L)', 'Remeasure to FV (Retained Earnings)', 'Transfer to Cost'], correctAnswer: 1, explanation: 'The existing interest is remeasured to Fair Value. Since it becomes an Associate, the gain/loss is usually P&L (standard rule for step acquisitions involving change of status).' },
  { id: 'q_ias28_10', moduleId: 'm_ias28', taxonomy: 'Apply', question: 'Fair value adjustment: Associate\'s Building Undervalued. Impact on Equity Accounting?', options: ['Increase Profit Share', 'Decrease Profit Share (Extra Depn)', 'No impact', 'Add to Cost'], correctAnswer: 1, explanation: 'Must depreciate the fair value uplift, which reduces the investor\'s share of associate\'s profit.' },

  // --- IAS 32 (m_ias32) ---
  { id: 'q_ias32_01', moduleId: 'm_ias32', taxonomy: 'Analyze', question: 'Convertible Bond $10m. Liability PV $9m. Equity?', options: ['$1m', '$10m', '$0', '$9m'], correctAnswer: 0, explanation: 'Equity (Residual) = Proceeds ($10m) - Liability Component ($9m) = $1m.' },
  { id: 'q_ias32_02', moduleId: 'm_ias32', taxonomy: 'Apply', question: 'Preference Shares redeemable at holder\'s option?', options: ['Equity', 'Financial Liability', 'Compound', 'Provision'], correctAnswer: 1, explanation: 'Issuer cannot avoid payment -> Financial Liability.' },
  { id: 'q_ias32_03', moduleId: 'm_ias32', taxonomy: 'Understand', question: 'Transaction costs on new Share Issue?', options: ['Expense P&L', 'Deduct from Equity', 'Capitalize Asset', 'OCI'], correctAnswer: 1, explanation: 'Deduction from Equity (Share Premium).' },
  { id: 'q_ias32_04', moduleId: 'm_ias32', taxonomy: 'Evaluate', question: 'Settlement in variable number of own shares to equal a fixed value?', options: ['Equity', 'Financial Liability', 'Compound', 'Asset'], correctAnswer: 1, explanation: 'Fails "Fixed for Fixed" test. It is a Liability because the entity is using shares as currency.' },
  { id: 'q_ias32_05', moduleId: 'm_ias32', taxonomy: 'Apply', question: 'Treasury Shares purchased for $50k?', options: ['Asset $50k', 'Expense $50k', 'Equity deduction $50k', 'Liability $50k'], correctAnswer: 2, explanation: 'Deducted from Equity. No asset recognized.' },
  { id: 'q_ias32_06', moduleId: 'm_ias32', taxonomy: 'Analyze', question: 'Offsetting Asset ($100) and Liability ($80)?', options: ['Net $20 Asset', 'Show both', 'Net if legal right', 'Net if legal right AND intent to settle net'], correctAnswer: 3, explanation: 'Requires both legal right and intention to settle net.' },
  { id: 'q_ias32_07', moduleId: 'm_ias32', taxonomy: 'Apply', question: 'Dividends on Redeemable Preference Shares?', options: ['Retained Earnings', 'Finance Cost', 'OCI', 'Operating Exp'], correctAnswer: 1, explanation: 'Instrument is a Liability, so dividends are Interest Expense.' },
  { id: 'q_ias32_08', moduleId: 'm_ias32', taxonomy: 'Remember', question: 'Contractual obligation to deliver cash is key definition of:', options: ['Equity', 'Financial Liability', 'Asset', 'Provision'], correctAnswer: 1, explanation: 'Core definition of Financial Liability.' },
  { id: 'q_ias32_09', moduleId: 'm_ias32', taxonomy: 'Analyze', question: 'Compound Instrument: Transaction costs?', options: ['All to Liab', 'All to Equity', 'Pro-rata allocation', 'Expense'], correctAnswer: 2, explanation: 'Allocated to Liability and Equity components in proportion to their initial carrying amounts.' },
  { id: 'q_ias32_10', moduleId: 'm_ias32', taxonomy: 'Evaluate', question: 'Rights Issue (Fixed amount of cash for Fixed shares)?', options: ['Liability', 'Equity', 'Compound', 'Derivative'], correctAnswer: 1, explanation: 'Meets "Fixed for Fixed" criterion -> Equity.' },

  // --- IAS 33 (m_ias33) ---
  { id: 'q_ias33_01', moduleId: 'm_ias33', taxonomy: 'Apply', question: 'Earnings $1m. Shares 500k. Basic EPS?', options: ['$2.00', '$0.50', '$5.00', '$1.00'], correctAnswer: 0, explanation: '1,000,000 / 500,000 = $2.00.' },
  { id: 'q_ias33_02', moduleId: 'm_ias33', taxonomy: 'Analyze', question: 'Rights Issue: 1 for 4 at $2. Market price $3. TERP?', options: ['$2.50', '$2.80', '$3.00', '$2.00'], correctAnswer: 1, explanation: '(4*$3 + 1*$2) / 5 = 14 / 5 = $2.80.' },
  { id: 'q_ias33_03', moduleId: 'm_ias33', taxonomy: 'Apply', question: 'Bonus Issue 1 for 10. Prior year EPS was $1.10. Restated Prior EPS?', options: ['$1.00', '$1.10', '$1.21', '$0.90'], correctAnswer: 0, explanation: 'Bonus fraction = 11/10 = 1.1. Restated EPS = 1.10 / 1.1 = $1.00.' },
  { id: 'q_ias33_04', moduleId: 'm_ias33', taxonomy: 'Understand', question: 'Diluted EPS: Share Options. Exercise Price $4. Avg Market Price $5.', options: ['All shares dilutive', 'No dilution', 'Free shares dilutive', 'Ignore'], correctAnswer: 2, explanation: 'Only the "free" portion (issued for no consideration) dilutes EPS.' },
  { id: 'q_ias33_05', moduleId: 'm_ias33', taxonomy: 'Analyze', question: 'Convertible Bond: Interest $100k. Tax 30%. Numerator adjust?', options: ['+$100k', '+$70k', '-$70k', '0'], correctAnswer: 1, explanation: 'Add back Interest net of tax: 100 * (1-0.3) = 70.' },
  { id: 'q_ias33_06', moduleId: 'm_ias33', taxonomy: 'Evaluate', question: 'Potential shares increase EPS. Treatment?', options: ['Include', 'Exclude (Antidilutive)', 'Disclose', 'Average'], correctAnswer: 1, explanation: 'Antidilutive potential shares are ignored in Diluted EPS.' },
  { id: 'q_ias33_07', moduleId: 'm_ias33', taxonomy: 'Apply', question: 'Issue of shares at full market price on 1 July. Year end 31 Dec.', options: ['Weight 6/12', 'Full year', 'Ignore', 'Bonus fraction'], correctAnswer: 0, explanation: 'Time apportioned: 6/12.' },
  { id: 'q_ias33_08', moduleId: 'm_ias33', taxonomy: 'Remember', question: 'Numerator for Basic EPS?', options: ['PBIT', 'Profit for year', 'Profit attr to Ordinary', 'Comprehensive Income'], correctAnswer: 2, explanation: 'Profit/Loss attributable to ordinary equity holders of the parent entity.' },
  { id: 'q_ias33_09', moduleId: 'm_ias33', taxonomy: 'Analyze', question: 'Contingently issuable shares (conditions met)?', options: ['Include in Basic', 'Include in Diluted only', 'Ignore', 'Liability'], correctAnswer: 0, explanation: 'If conditions are met by year-end, they are included in Basic EPS.' },
  { id: 'q_ias33_10', moduleId: 'm_ias33', taxonomy: 'Evaluate', question: 'Mandatorily Convertible Bond?', options: ['Equity', 'Liability', 'Always Dilutive', 'Included in Basic from contract date'], correctAnswer: 3, explanation: 'If conversion is mandatory, they are treated as shares from contract date for Basic EPS.' },

  // --- IAS 36 (m_ias36) ---
  { id: 'q_ias36_01', moduleId: 'm_ias36', taxonomy: 'Apply', question: 'CA $100. FV-CTS $90. VIU $95. Recoverable Amount?', options: ['$90', '$95', '$100', '$190'], correctAnswer: 1, explanation: 'Higher of FV-CTS (90) and VIU (95).' },
  { id: 'q_ias36_02', moduleId: 'm_ias36', taxonomy: 'Apply', question: 'CA $100. Rec Amt $80. Reval Surplus $10. Impairment allocation?', options: ['$20 P&L', '$10 OCI / $10 P&L', '$20 OCI', '$20 Equity'], correctAnswer: 1, explanation: 'Total loss $20. Eliminate surplus ($10 OCI), balance ($10) to P&L.' },
  { id: 'q_ias36_03', moduleId: 'm_ias36', taxonomy: 'Analyze', question: 'CGU Loss $50. Goodwill $20. PPE $80. Allocate?', options: ['GW 20, PPE 30', 'GW 0, PPE 50', 'Pro-rata', 'PPE 50'], correctAnswer: 0, explanation: 'Write off Goodwill first ($20), remaining $30 allocated to PPE.' },
  { id: 'q_ias36_04', moduleId: 'm_ias36', taxonomy: 'Evaluate', question: 'Reversal of Goodwill impairment?', options: ['Permitted', 'Prohibited', 'If indicators change', 'Only in OCI'], correctAnswer: 1, explanation: 'Never reversed.' },
  { id: 'q_ias36_05', moduleId: 'm_ias36', taxonomy: 'Remember', question: 'Discount rate for Value in Use?', options: ['Post-tax WACC', 'Pre-tax rate', 'Risk-free rate', 'Inflation rate'], correctAnswer: 1, explanation: 'Pre-tax rate that reflects current market assessments of time value of money and risks.' },
  { id: 'q_ias36_06', moduleId: 'm_ias36', taxonomy: 'Apply', question: 'Asset CA $50. Impairment allocated $20. FV-CTS is $40. Limit?', options: ['Write down to $30', 'Limit write down to $40', 'Write down to $0', 'No limit'], correctAnswer: 1, explanation: 'Asset cannot be reduced below the highest of FV-CTS ($40), VIU, or zero. So max write down is $10.' },
  { id: 'q_ias36_07', moduleId: 'm_ias36', taxonomy: 'Understand', question: 'Internal indicator of impairment?', options: ['Market decline', 'Interest rate rise', 'Asset obsolescence/damage', 'Competitor action'], correctAnswer: 2, explanation: 'Obsolescence or physical damage is an internal source of information.' },
  { id: 'q_ias36_08', moduleId: 'm_ias36', taxonomy: 'Analyze', question: 'Corporate Assets (HQ Building) impairment?', options: ['Test separately', 'Allocate to CGUs', 'Ignore', 'Test as Goodwill'], correctAnswer: 1, explanation: 'Allocate to CGUs on a reasonable and consistent basis, then test CGUs.' },
  { id: 'q_ias36_09', moduleId: 'm_ias36', taxonomy: 'Evaluate', question: 'Future restructuring in VIU?', options: ['Include cost', 'Exclude cost and benefits', 'Include benefits only', 'Management choice'], correctAnswer: 1, explanation: 'Exclude estimated cash flows from future restructuring to which entity is not yet committed.' },
  { id: 'q_ias36_10', moduleId: 'm_ias36', taxonomy: 'Apply', question: 'Brand with Indefinite Life?', options: ['Amortize', 'Test annually', 'Test only if triggers', 'Ignore'], correctAnswer: 1, explanation: 'Must be tested for impairment annually, irrespective of indicators.' },

  // --- IAS 37 (m_ias37) ---
  { id: 'q_ias37_01', moduleId: 'm_ias37', taxonomy: 'Evaluate', question: 'Court case: Lawyers say 60% chance of losing $1m.', options: ['Provision $1m', 'Provision $600k', 'Contingent Liability', 'Ignore'], correctAnswer: 0, explanation: 'Probable (>50%) outflow. Provision recognized at best estimate ($1m is likely single outcome, or if large population then expected value. For single lawsuit usually most likely outcome). Wait. 60% chance of 1m, 40% chance of 0. Most likely outcome is 1m. Provision $1m.' },
  { id: 'q_ias37_02', moduleId: 'm_ias37', taxonomy: 'Apply', question: 'Retailer has a refund policy (not legal) printed on receipt.', options: ['Legal Obligation', 'Constructive Obligation', 'No Obligation', 'Contingent Liability'], correctAnswer: 1, explanation: 'Constructive obligation created by established policy/statement.' },
  { id: 'q_ias37_03', moduleId: 'm_ias37', taxonomy: 'Analyze', question: 'Restructuring Provision includes?', options: ['Retraining staff', 'Relocating staff', 'Redundancy costs', 'Future losses'], correctAnswer: 2, explanation: 'Direct expenditures necessarily entailed by the restructuring. Excludes retraining, relocation, future losses.' },
  { id: 'q_ias37_04', moduleId: 'm_ias37', taxonomy: 'Apply', question: 'Onerous Contract: Cost to fulfill $50k. Penalty $20k.', options: ['Provision $50k', 'Provision $20k', 'Provision $30k', 'No provision'], correctAnswer: 1, explanation: 'Lower of cost to fulfill ($50k) and penalty ($20k).' },
  { id: 'q_ias37_05', moduleId: 'm_ias37', taxonomy: 'Understand', question: 'Insurance recovery (Reimbursement) is virtually certain.', options: ['Net off against provision in SOFP', 'Recognize separate asset', 'Disclose only', 'Ignore'], correctAnswer: 1, explanation: 'Recognize as a separate asset. In P&L, expense may be presented net of reimbursement.' },
  { id: 'q_ias37_06', moduleId: 'm_ias37', taxonomy: 'Apply', question: 'Discounting provision. Unwinding of discount?', options: ['Finance Cost', 'Operating Expense', 'Reduce Provision', 'OCI'], correctAnswer: 0, explanation: 'Increase in provision due to passage of time is Finance Cost.' },
  { id: 'q_ias37_07', moduleId: 'm_ias37', taxonomy: 'Analyze', question: 'Provision for major overhaul (e.g. aircraft every 3 years)?', options: ['Accrue over 3 years', 'Recognize immediately', 'Not permitted', 'Intangible'], correctAnswer: 2, explanation: 'Provisions for future repairs/maintenance are not permitted (no present obligation). Capitalize replacement cost when incurred (IAS 16).' },
  { id: 'q_ias37_08', moduleId: 'm_ias37', taxonomy: 'Apply', question: 'Warranty provision calculation. 1000 units. 5% minor (cost $10). 1% major (cost $50).', options: ['$500', '$1000', '$60', '$0'], correctAnswer: 1, explanation: 'Expected Value: (1000*5%*$10) + (1000*1%*$50) = 500 + 500 = 1000.' },
  { id: 'q_ias37_09', moduleId: 'm_ias37', taxonomy: 'Remember', question: 'Possible obligation (20% chance)?', options: ['Provision', 'Contingent Liability (Disclose)', 'Ignore', 'Equity'], correctAnswer: 1, explanation: 'Possible but not probable -> Contingent Liability -> Disclose.' },
  { id: 'q_ias37_10', moduleId: 'm_ias37', taxonomy: 'Evaluate', question: 'Environmental cleanup required by new law (virtually enacted).', options: ['No provision', 'Provision', 'Contingent Liability', 'Asset'], correctAnswer: 1, explanation: 'Obligating event occurs when legislation is virtually certain to be enacted.' },

  // --- IAS 38 (m_ias38) ---
  { id: 'q_ias38_01', moduleId: 'm_ias38', taxonomy: 'Apply', question: 'Research costs $100k. Development (criteria met) $200k.', options: ['Capitalize $300k', 'Expense $300k', 'Cap $200k, Exp $100k', 'Cap $100k'], correctAnswer: 2, explanation: 'Research expensed. Development capitalized only after criteria met.' },
  { id: 'q_ias38_02', moduleId: 'm_ias38', taxonomy: 'Apply', question: 'Brand purchased for $1m. Useful life 10 years.', options: ['Amortize $100k pa', 'Do not amortize', 'Expense $1m', 'Revalue'], correctAnswer: 0, explanation: 'Finite useful life -> Amortize.' },
  { id: 'q_ias38_03', moduleId: 'm_ias38', taxonomy: 'Analyze', question: 'Can you revalue a software license?', options: ['Yes, always', 'No, never', 'Only if active market exists', 'Only if internally generated'], correctAnswer: 2, explanation: 'Revaluation model requires an active market, which is rare for specific intangibles.' },
  { id: 'q_ias38_04', moduleId: 'm_ias38', taxonomy: 'Remember', question: 'Internally generated Goodwill?', options: ['Capitalize', 'Expense', 'Prohibited', 'Disclosure'], correctAnswer: 2, explanation: 'Recognition is prohibited.' },
  { id: 'q_ias38_05', moduleId: 'm_ias38', taxonomy: 'Apply', question: 'Customer List acquired in business combination (FV $50k)?', options: ['Recognize Asset $50k', 'Expense', 'Include in Goodwill', 'Ignore'], correctAnswer: 0, explanation: 'Identifiable intangible acquired in business combo is recognized at FV.' },
  { id: 'q_ias38_06', moduleId: 'm_ias38', taxonomy: 'Evaluate', question: 'Advertising campaign $500k (expected to boost sales for 2 years).', options: ['Capitalize', 'Expense immediately', 'Prepayment', 'Intangible'], correctAnswer: 1, explanation: 'Advertising and promotional activities are expensed when incurred.' },
  { id: 'q_ias38_07', moduleId: 'm_ias38', taxonomy: 'Analyze', question: 'Indefinite life asset accounting?', options: ['Amortize 20 years', 'No amortization, Annual Impairment Test', 'No accounting', 'Depreciate'], correctAnswer: 1, explanation: 'Not amortized. Must test for impairment annually.' },
  { id: 'q_ias38_08', moduleId: 'm_ias38', taxonomy: 'Understand', question: 'Software prototype technically feasible ($50k spent after date).', options: ['Expense', 'Capitalize', 'Provision', 'Inventory'], correctAnswer: 1, explanation: 'Meets capitalization criteria (development phase).' },
  { id: 'q_ias38_09', moduleId: 'm_ias38', taxonomy: 'Apply', question: 'Staff training costs $20k.', options: ['Intangible Asset', 'Expense', 'Prepayment', 'Liability'], correctAnswer: 1, explanation: 'Entity does not control staff (they can leave). Expense.' },
  { id: 'q_ias38_10', moduleId: 'm_ias38', taxonomy: 'Apply', question: 'Disposal of Patent: Proceeds $10, CA $8.', options: ['Revenue $10', 'Gain $2 (P&L)', 'Gain $2 (OCI)', 'Other Income $10'], correctAnswer: 1, explanation: 'Gain on disposal (Proceeds - CA) recognized in P&L.' },

  // --- IAS 40 (m_ias40) ---
  { id: 'q_ias40_01', moduleId: 'm_ias40', taxonomy: 'Apply', question: 'Building: 95% rented out, 5% used for admin.', options: ['All PPE', 'All IP', 'Split', 'Inventory'], correctAnswer: 1, explanation: 'If owner-occupied portion (5%) is insignificant, treat whole property as Investment Property.' },
  { id: 'q_ias40_02', moduleId: 'm_ias40', taxonomy: 'Apply', question: 'FV Model: Year 1 FV $100. Year 2 FV $110.', options: ['$10 Gain in OCI', '$10 Gain in P&L', 'No gain', '$10 Equity'], correctAnswer: 1, explanation: 'Changes in Fair Value are recognized in Profit or Loss.' },
  { id: 'q_ias40_03', moduleId: 'm_ias40', taxonomy: 'Analyze', question: 'Transfer Owner-Occupied (CA $80) to IP (FV $100). FV Model.', options: ['$20 Gain P&L', '$20 Gain OCI', '$20 Liab', 'No Gain'], correctAnswer: 1, explanation: 'Treat as revaluation under IAS 16 up to date of change. Surplus ($20) to OCI.' },
  { id: 'q_ias40_04', moduleId: 'm_ias40', taxonomy: 'Understand', question: 'Depreciation in Fair Value Model?', options: ['Required', 'Prohibited', 'Optional', 'Tax only'], correctAnswer: 1, explanation: 'Investment Property measured at Fair Value is NOT depreciated.' },
  { id: 'q_ias40_05', moduleId: 'm_ias40', taxonomy: 'Remember', question: 'Cost Model option for IP?', options: ['Not allowed', 'Allowed (with FV disclosure)', 'Allowed (no disclosure)', 'Mandatory'], correctAnswer: 1, explanation: 'Entity can choose Cost Model, but must disclose Fair Value.' },
  { id: 'q_ias40_06', moduleId: 'm_ias40', taxonomy: 'Apply', question: 'Property under construction for use as IP?', options: ['IAS 16', 'IAS 2', 'IAS 40', 'IFRS 15'], correctAnswer: 2, explanation: 'Accounted for as Investment Property (since 2009 amendment).' },
  { id: 'q_ias40_07', moduleId: 'm_ias40', taxonomy: 'Evaluate', question: 'Hotel owned and managed by entity?', options: ['IAS 40', 'IAS 16', 'IAS 2', 'IFRS 9'], correctAnswer: 1, explanation: 'Owner-occupied (IAS 16) because services provided to guests are significant.' },
  { id: 'q_ias40_08', moduleId: 'm_ias40', taxonomy: 'Analyze', question: 'Change in FV of IP (Cost Model)?', options: ['Recognize in P&L', 'Recognize in OCI', 'Ignore in accounts (Disclose)', 'Adjust Cost'], correctAnswer: 2, explanation: 'Under Cost Model, FV changes are not recognized, just disclosed.' },
  { id: 'q_ias40_09', moduleId: 'm_ias40', taxonomy: 'Apply', question: 'Disposal of IP (FV Model). Proceeds $120, CA $100.', options: ['Gain $20 P&L', 'Gain $20 OCI', 'Revenue $120', 'Equity $20'], correctAnswer: 0, explanation: 'Gain on disposal to P&L.' },
  { id: 'q_ias40_10', moduleId: 'm_ias40', taxonomy: 'Apply', question: 'Transfer Inventory (CA $50) to IP (FV $80).', options: ['$30 Gain OCI', '$30 Gain P&L', 'No Gain', '$30 Deferred'], correctAnswer: 1, explanation: 'Difference between Fair Value and Carrying Amount at date of transfer is recognized in P&L.' },

  // --- IAS 41 (m_ias41) ---
  { id: 'q_ias41_01', moduleId: 'm_ias41', taxonomy: 'Apply', question: 'Sheep: FV $100. Transport to market $5. Commission $2.', options: ['Value $100', 'Value $95', 'Value $93', 'Value $98'], correctAnswer: 2, explanation: 'Measurement is FV less Costs to Sell. FV is market price less transport ($100 - $5 = $95). Then deduct costs to sell (Commission $2). Value $93. *Correction*: FV def usually assumes price in principal market. If price is $100 in market, FV is $100. If we need to transport, we deduct transport to get "Fair Value" at farm? Actually IFRS 13 says transport costs deducted to get FV. Costs to sell (IAS 41) are incremental. So $100 (Market) - $5 (Transport) = $95 (FV). $95 - $2 (Commission) = $93. Correct.' },
  { id: 'q_ias41_02', moduleId: 'm_ias41', taxonomy: 'Apply', question: 'Wool harvested. FV $50. Costs to sell $2. Cost to grow $30.', options: ['Inventory Cost $30', 'Inventory Cost $48', 'Inventory Cost $50', 'Expense $30'], correctAnswer: 1, explanation: 'Measured at FV less costs to sell at harvest ($48). This becomes deemed cost for IAS 2.' },
  { id: 'q_ias41_03', moduleId: 'm_ias41', taxonomy: 'Analyze', question: 'Grape Vines (Bearer Plants)?', options: ['IAS 41', 'IAS 16', 'IAS 40', 'IAS 2'], correctAnswer: 1, explanation: 'Bearer plants are accounted for as PPE (IAS 16).' },
  { id: 'q_ias41_04', moduleId: 'm_ias41', taxonomy: 'Understand', question: 'Gain on initial recognition of biological asset (birth of calf)?', options: ['OCI', 'P&L', 'Deferred', 'Equity'], correctAnswer: 1, explanation: 'Recognized in Profit or Loss.' },
  { id: 'q_ias41_05', moduleId: 'm_ias41', taxonomy: 'Apply', question: 'Government Grant for Biological Asset (Unconditional)?', options: ['P&L when receivable', 'OCI', 'Deduct from Cost', 'Amortize'], correctAnswer: 0, explanation: 'Recognized in P&L when it becomes receivable.' },
  { id: 'q_ias41_06', moduleId: 'm_ias41', taxonomy: 'Remember', question: 'Land used for farming?', options: ['IAS 41', 'IAS 16', 'IAS 40', 'IFRS 5'], correctAnswer: 1, explanation: 'Land is never a biological asset. IAS 16 applies.' },
  { id: 'q_ias41_07', moduleId: 'm_ias41', taxonomy: 'Evaluate', question: 'Milk quota (Intangible)?', options: ['IAS 41', 'IAS 38', 'IAS 2', 'IAS 16'], correctAnswer: 1, explanation: 'Intangible assets related to agriculture are IAS 38.' },
  { id: 'q_ias41_08', moduleId: 'm_ias41', taxonomy: 'Analyze', question: 'Gain due to Price Change vs Physical Change?', options: ['Must split', 'Encouraged to split', 'Prohibited to split', 'Split in OCI'], correctAnswer: 1, explanation: 'Disclosure of the split is encouraged but not mandatory.' },
  { id: 'q_ias41_09', moduleId: 'm_ias41', taxonomy: 'Apply', question: 'Market price not available for unique biological asset?', options: ['Use Cost', 'Use Cost less Depn/Imp', 'Use PV of Cash Flows', 'Write off'], correctAnswer: 1, explanation: 'If FV not reliably measurable, use Cost model (Cost less accumulated depreciation/impairment).' },
  { id: 'q_ias41_10', moduleId: 'm_ias41', taxonomy: 'Understand', question: 'Transport costs to market?', options: ['Ignore', 'Deduct to calculate FV', 'Treat as Cost to Sell', 'Expense'], correctAnswer: 1, explanation: 'Deducted to determine Fair Value (IFRS 13) if location is a characteristic of the asset.' },

  // --- IFRS 1: First-time Adoption (m_ifrs1) ---
  { id: 'q_ifrs1_01', moduleId: 'm_ifrs1', taxonomy: 'Understand', question: 'Which is the correct transition date for FS ending 31 Dec 2025 (with 1 year comparative)?', options: ['1 Jan 2025', '1 Jan 2024', '31 Dec 2024', '1 Jan 2023'], correctAnswer: 1, explanation: 'Start of the earliest period for which full comparative information is presented. (1 Jan 2024).' },
  { id: 'q_ifrs1_02', moduleId: 'm_ifrs1', taxonomy: 'Apply', question: 'Adjustments to Opening IFRS Statement of Financial Position are recognized in:', options: ['Profit or Loss', 'Other Comprehensive Income', 'Retained Earnings', 'Goodwill'], correctAnswer: 2, explanation: 'Adjustments arising from transition are recognized directly in Retained Earnings (or another category of equity) at the transition date.' },
  { id: 'q_ifrs1_03', moduleId: 'm_ifrs1', taxonomy: 'Remember', question: 'Which is a MANDATORY exception to retrospective application?', options: ['Business Combinations', 'Share-based Payments', 'Estimates', 'Deemed Cost'], correctAnswer: 2, explanation: 'Estimates must not be adjusted for hindsight. The others are optional exemptions.' },
  { id: 'q_ifrs1_04', moduleId: 'm_ifrs1', taxonomy: 'Analyze', question: 'Entity chooses to use Fair Value of PPE as Deemed Cost at transition. FV > Carrying Amount. Credit goes to?', options: ['Revaluation Surplus', 'Retained Earnings', 'Profit or Loss', 'Share Premium'], correctAnswer: 1, explanation: 'The adjustment is made to Retained Earnings at the date of transition, not Revaluation Surplus (since it is the starting point).' },
  { id: 'q_ifrs1_05', moduleId: 'm_ifrs1', taxonomy: 'Apply', question: 'Previous GAAP expensed development costs. IFRS requires capitalization. Treatment at transition?', options: ['Capitalize prospectively', 'Recognize asset if criteria met (Retrospective)', 'Expense always', 'Recognize at FV'], correctAnswer: 1, explanation: 'Must recognize if it meets IFRS criteria at transition date, adjusting Retained Earnings.' },
  { id: 'q_ifrs1_06', moduleId: 'm_ifrs1', taxonomy: 'Evaluate', question: 'Can an entity choose to restate past Business Combinations?', options: ['No, prohibited', 'Yes, all or none from a specific date', 'Yes, pick and choose', 'Only if material'], correctAnswer: 1, explanation: 'Optional exemption allowed. If chosen for one, must apply to all subsequent combinations.' },
  { id: 'q_ifrs1_07', moduleId: 'm_ifrs1', taxonomy: 'Remember', question: 'How many Statements of Financial Position are required in first IFRS FS?', options: ['Two', 'Three', 'Four', 'One'], correctAnswer: 1, explanation: 'Three: Current year end, Comparative year end, and Opening Transition Date.' },
  { id: 'q_ifrs1_08', moduleId: 'm_ifrs1', taxonomy: 'Apply', question: 'Cumulative translation differences at transition?', options: ['Must recalculate from inception', 'Can be deemed zero', 'Recognize in P&L', 'Ignore'], correctAnswer: 1, explanation: 'Optional exemption: Cumulative translation differences can be deemed to be zero at the date of transition.' },
  { id: 'q_ifrs1_09', moduleId: 'm_ifrs1', taxonomy: 'Analyze', question: 'Accounting policy change during first IFRS year?', options: ['Not allowed', 'Apply new policy to all periods presented', 'Prospective only', 'Disclose only'], correctAnswer: 1, explanation: 'Must use the same policies throughout the first IFRS financial statements (ending reporting date standards apply).' },
  { id: 'q_ifrs1_10', moduleId: 'm_ifrs1', taxonomy: 'Understand', question: 'Are estimates adjusted for events after transition date (Hindsight)?', options: ['Yes, always', 'No, never', 'Only if favorable', 'Only for provisions'], correctAnswer: 1, explanation: 'Estimates must be consistent with those made under previous GAAP (unless error). Do not use hindsight.' },

  // --- IFRS 2: Share-based Payment (m_ifrs2) ---
  { id: 'q_ifrs2_01', moduleId: 'm_ifrs2', taxonomy: 'Apply', question: 'Equity-settled: Grant Date FV $10. Year 1 Reporting Date FV $12. Measure at?', options: ['$10', '$12', '$11', 'Intrinsic Value'], correctAnswer: 0, explanation: 'Equity-settled transactions are measured at Grant Date Fair Value and are NOT remeasured.' },
  { id: 'q_ifrs2_02', moduleId: 'm_ifrs2', taxonomy: 'Apply', question: 'Cash-settled (SARs): Grant Date FV $10. Year 1 Reporting Date FV $12. Measure at?', options: ['$10', '$12', 'Average', 'Zero'], correctAnswer: 1, explanation: 'Cash-settled liability is remeasured to Fair Value at each reporting date.' },
  { id: 'q_ifrs2_03', moduleId: 'm_ifrs2', taxonomy: 'Analyze', question: 'Market condition (Share price target) not met. Service condition met. Expense?', options: ['Reverse expense', 'Recognize expense', 'Recognize 50%', 'Defer'], correctAnswer: 1, explanation: 'Market conditions are included in grant date FV. If service is provided, expense is recognized regardless of market condition outcome.' },
  { id: 'q_ifrs2_04', moduleId: 'm_ifrs2', taxonomy: 'Understand', question: 'Non-market condition (Profit target) not met. Expense?', options: ['Reverse expense', 'Recognize expense', 'Recognize in OCI', 'Ignore'], correctAnswer: 0, explanation: 'Non-market conditions adjust the number of awards expected to vest. If not met, cumulative expense is zero.' },
  { id: 'q_ifrs2_05', moduleId: 'm_ifrs2', taxonomy: 'Apply', question: 'Employees leave during vesting period. Impact on calculation?', options: ['None', 'Adjust expected number of awards', 'Adjust Fair Value', 'Recognize loss'], correctAnswer: 1, explanation: 'Update estimate of number of employees expected to vest at each reporting date.' },
  { id: 'q_ifrs2_06', moduleId: 'm_ifrs2', taxonomy: 'Evaluate', question: 'Modification: Exercise price reduced (beneficial). Accounting?', options: ['Ignore', 'Expense incremental FV', 'Expense total new FV', 'Reverse old expense'], correctAnswer: 1, explanation: 'Recognize original grant expense plus incremental fair value (measured at modification date) over remaining vesting.' },
  { id: 'q_ifrs2_07', moduleId: 'm_ifrs2', taxonomy: 'Remember', question: 'Entry for cash-settled SBP expense?', options: ['Dr Expense, Cr Equity', 'Dr Expense, Cr Liability', 'Dr Asset, Cr Equity', 'Dr Equity, Cr Cash'], correctAnswer: 1, explanation: 'Cash-settled creates a Liability (SARs).' },
  { id: 'q_ifrs2_08', moduleId: 'm_ifrs2', taxonomy: 'Analyze', question: 'Choice of settlement (Counterparty choice). Accounting?', options: ['Compound Instrument', 'Liability only', 'Equity only', 'Provision'], correctAnswer: 0, explanation: 'Treat as compound instrument (Debt component for cash right, Equity component for share right).' },
  { id: 'q_ifrs2_09', moduleId: 'm_ifrs2', taxonomy: 'Apply', question: 'Cancellation by entity during vesting.', options: ['Reverse expense', 'Accelerated vesting (Expense immediately)', 'Pause expense', 'Defer'], correctAnswer: 1, explanation: 'Treated as acceleration of vesting. Recognize amount that would otherwise have been recognized over the remainder of the vesting period.' },
  { id: 'q_ifrs2_10', moduleId: 'm_ifrs2', taxonomy: 'Understand', question: 'Intrinsic Value of option?', options: ['Share Price - Exercise Price', 'Black-Scholes Value', 'Exercise Price - Share Price', 'Par Value'], correctAnswer: 0, explanation: 'Current Share Price minus Exercise Price. (Used for intrinsic value method if FV cannot be estimated - rare).' },

  // --- IFRS 3: Business Combinations (m_ifrs3) ---
  { id: 'q_ifrs3_01', moduleId: 'm_ifrs3', taxonomy: 'Apply', question: 'Goodwill Calc: Consideration $100. NCI (FV) $20. Net Assets $90. Goodwill?', options: ['$30', '$10', '$120', '$70'], correctAnswer: 0, explanation: '100 (Consid) + 20 (NCI) - 90 (NA) = 30.' },
  { id: 'q_ifrs3_02', moduleId: 'm_ifrs3', taxonomy: 'Apply', question: 'Legal fees for acquisition $5m.', options: ['Add to Consideration', 'Expense in P&L', 'Deduct from Equity', 'Add to Net Assets'], correctAnswer: 1, explanation: 'Acquisition-related costs are expensed in the period incurred.' },
  { id: 'q_ifrs3_03', moduleId: 'm_ifrs3', taxonomy: 'Analyze', question: 'NCI measured at Proportionate Share. Consideration $100. NCI ? Net Assets $90 (NCI 20%). Goodwill?', options: ['$28', '$30', '$10', '$18'], correctAnswer: 0, explanation: 'NCI = 90 * 20% = 18. Goodwill = 100 + 18 - 90 = 28. (Partial Goodwill).' },
  { id: 'q_ifrs3_04', moduleId: 'm_ifrs3', taxonomy: 'Apply', question: 'Contingent Consideration (Cash in 2 years). Measurement?', options: ['Nominal Value', 'Present Value', 'Future Value', 'Ignore'], correctAnswer: 1, explanation: 'Measured at Fair Value (Present Value of expected payment).' },
  { id: 'q_ifrs3_05', moduleId: 'm_ifrs3', taxonomy: 'Evaluate', question: 'Bargain Purchase (Negative Goodwill) arising. Treatment?', options: ['OCI', 'P&L Gain', 'Negative Asset', 'Liability'], correctAnswer: 1, explanation: 'Gain on bargain purchase is recognized immediately in Profit or Loss after reassessment.' },
  { id: 'q_ifrs3_06', moduleId: 'm_ifrs3', taxonomy: 'Remember', question: 'Measurement Period limit?', options: ['3 months', '6 months', '12 months', '2 years'], correctAnswer: 2, explanation: 'Adjustments to provisional amounts allowed up to 12 months from acquisition date.' },
  { id: 'q_ifrs3_07', moduleId: 'm_ifrs3', taxonomy: 'Analyze', question: 'Brand name of acquiree (not in books). Separable. FV reliable.', options: ['Recognize Intangible Asset', 'Ignore (Internal generated)', 'Include in Goodwill', 'Expense'], correctAnswer: 0, explanation: 'Recognize separately from goodwill if it meets the definition of intangible asset (separable or legal/contractual).' },
  { id: 'q_ifrs3_08', moduleId: 'm_ifrs3', taxonomy: 'Apply', question: 'Deferred Tax on acquisition FV adjustments?', options: ['Ignore', 'Recognize DTL/DTA', 'Offset against Consideration', 'Recognize in OCI'], correctAnswer: 1, explanation: 'Recognize DTL/DTA on temporary differences arising from FV adjustments (except Goodwill).' },
  { id: 'q_ifrs3_09', moduleId: 'm_ifrs3', taxonomy: 'Evaluate', question: 'Pre-existing relationship settled at acquisition?', options: ['Included in Consideration', 'Separate transaction (Gain/Loss)', 'Adjustment to Goodwill', 'Equity'], correctAnswer: 1, explanation: 'Settlement of pre-existing relationship is a separate transaction from the business combination.' },
  { id: 'q_ifrs3_10', moduleId: 'm_ifrs3', taxonomy: 'Understand', question: 'Share issuance costs for acquisition?', options: ['Expense', 'Add to Goodwill', 'Deduct from Equity (Share Premium)', 'Add to Liability'], correctAnswer: 2, explanation: 'Costs to issue equity reduce the proceeds of the equity issue (Debit Share Premium).' },

  // --- IFRS 5: HFS & Discontinued Ops (m_ifrs5) ---
  { id: 'q_ifrs5_01', moduleId: 'm_ifrs5', taxonomy: 'Apply', question: 'Asset classified HFS on 1 July. YE 31 Dec. Depreciation?', options: ['Charge full year', 'Stop 1 July', 'Stop 31 Dec', 'No depn for year'], correctAnswer: 1, explanation: 'Depreciation ceases at the date of classification as Held for Sale.' },
  { id: 'q_ifrs5_02', moduleId: 'm_ifrs5', taxonomy: 'Apply', question: 'CA $100. FV $110. Costs to Sell $5. Measure at?', options: ['$100', '$105', '$95', '$110'], correctAnswer: 0, explanation: 'Lower of Carrying Amount ($100) and FV-CTS ($105). Measure at $100. (No gain on classification).' },
  { id: 'q_ifrs5_03', moduleId: 'm_ifrs5', taxonomy: 'Apply', question: 'CA $100. FV $90. Costs to Sell $5. Measure at?', options: ['$100', '$85', '$90', '$95'], correctAnswer: 1, explanation: 'Lower of Carrying Amount ($100) and FV-CTS ($85). Impairment loss of $15.' },
  { id: 'q_ifrs5_04', moduleId: 'm_ifrs5', taxonomy: 'Analyze', question: 'Discontinued Operation presentation in SOFP?', options: ['Restate Comparatives', 'Do NOT restate comparatives', 'Remove from SOFP', 'Equity'], correctAnswer: 1, explanation: 'SOFP comparatives are NOT restated. Only current year assets/liabs are classified as HFS.' },
  { id: 'q_ifrs5_05', moduleId: 'm_ifrs5', taxonomy: 'Analyze', question: 'Discontinued Operation presentation in SPL?', options: ['Restate Comparatives', 'Do NOT restate comparatives', 'Footnote only', 'OCI'], correctAnswer: 0, explanation: 'SPL comparatives MUST be restated to show Discontinued Ops separately for all periods presented.' },
  { id: 'q_ifrs5_06', moduleId: 'm_ifrs5', taxonomy: 'Evaluate', question: 'Subsidiary acquired exclusively for resale. Consolidation?', options: ['Do not consolidate', 'Consolidate normally', 'Consolidate as HFS (Single Line Asset/Liab)', 'Equity method'], correctAnswer: 2, explanation: 'Must consolidate, but present assets/liabilities as Held for Sale (separate lines).' },
  { id: 'q_ifrs5_07', moduleId: 'm_ifrs5', taxonomy: 'Remember', question: 'Criterion for HFS: Sale expected within?', options: ['3 months', '6 months', '1 year', '2 years'], correctAnswer: 2, explanation: 'Sale should be expected to qualify for recognition as a completed sale within one year.' },
  { id: 'q_ifrs5_08', moduleId: 'm_ifrs5', taxonomy: 'Apply', question: 'Factory abandoned. Is it HFS?', options: ['Yes', 'No', 'Only if empty', 'If management decides'], correctAnswer: 1, explanation: 'Abandoned assets are not HFS because CA is recovered through use/end of life, not sale.' },
  { id: 'q_ifrs5_09', moduleId: 'm_ifrs5', taxonomy: 'Understand', question: 'Gain on subsequent increase in FV-CTS?', options: ['Not recognized', 'Recognized up to cumulative impairment', 'Unlimited gain', 'OCI'], correctAnswer: 1, explanation: 'Gain recognized but limited to the cumulative impairment losses previously recognized.' },
  { id: 'q_ifrs5_10', moduleId: 'm_ifrs5', taxonomy: 'Analyze', question: 'Asset ceases to be HFS. Measure at?', options: ['Current FV', 'Original CA', 'Lower of Recoverable Amt and Adjusted CA', 'Higher of FV and CA'], correctAnswer: 2, explanation: 'Lower of (a) CA before classification (adjusted for depn that would have been charged) and (b) Recoverable amount at date of decision not to sell.' },

  // --- IFRS 8: Operating Segments (m_ifrs8) ---
  { id: 'q_ifrs8_01', moduleId: 'm_ifrs8', taxonomy: 'Apply', question: 'Quantitative Threshold for Revenue?', options: ['5%', '10%', '20%', '50%'], correctAnswer: 1, explanation: 'Reportable if segment revenue (external + internal) is >= 10% of combined revenue.' },
  { id: 'q_ifrs8_02', moduleId: 'm_ifrs8', taxonomy: 'Apply', question: '75% Test applies to?', options: ['Total Revenue', 'External Revenue', 'Profit', 'Assets'], correctAnswer: 1, explanation: 'Reportable segments must account for at least 75% of the entity\'s EXTERNAL revenue.' },
  { id: 'q_ifrs8_03', moduleId: 'm_ifrs8', taxonomy: 'Understand', question: 'Who is the CODM?', options: ['CEO only', 'Board of Directors', 'Function making resource decisions', 'Audit Committee'], correctAnswer: 2, explanation: 'Chief Operating Decision Maker is a function (not necessarily a title) that allocates resources and assesses performance.' },
  { id: 'q_ifrs8_04', moduleId: 'm_ifrs8', taxonomy: 'Analyze', question: 'Segment Profit calculation basis?', options: ['Must be IFRS', 'Must be Tax basis', 'Measure reported to CODM', 'Cash basis'], correctAnswer: 2, explanation: 'IFRS 8 requires the measure used by the CODM, even if it differs from IFRS (e.g. excludes allocation of overheads).' },
  { id: 'q_ifrs8_05', moduleId: 'm_ifrs8', taxonomy: 'Apply', question: 'Aggregation of segments?', options: ['Always allowed', 'Never allowed', 'If similar economic characteristics', 'If same manager'], correctAnswer: 2, explanation: 'Allowed if consistent with core principle, similar economic characteristics, and similar products/processes/customers.' },
  { id: 'q_ifrs8_06', moduleId: 'm_ifrs8', taxonomy: 'Evaluate', question: 'Segment assets > 10% of total assets. Revenue < 10%.', options: ['Reportable', 'Not Reportable', 'Optional', 'Aggregate'], correctAnswer: 0, explanation: 'Meeting ANY of the 10% thresholds (Assets, Revenue, or Profit/Loss) makes it reportable.' },
  { id: 'q_ifrs8_07', moduleId: 'm_ifrs8', taxonomy: 'Remember', question: 'Does IFRS 8 apply to unlisted entities?', options: ['Yes', 'No (Listed only)', 'If voluntary', 'If large'], correctAnswer: 1, explanation: 'Applies to entities whose debt or equity instruments are traded in a public market.' },
  { id: 'q_ifrs8_08', moduleId: 'm_ifrs8', taxonomy: 'Analyze', question: 'Disclosure of major customer required when?', options: ['>5% revenue', '>10% revenue', '>20% revenue', 'Related party only'], correctAnswer: 1, explanation: 'If revenues from a single customer are 10% or more of total entity revenue.' },
  { id: 'q_ifrs8_09', moduleId: 'm_ifrs8', taxonomy: 'Understand', question: 'Matrix structure (Product vs Geography). Who is CODM?', options: ['Both', 'Product Managers', 'Depends on core reporting', 'Shareholders'], correctAnswer: 2, explanation: 'Entity must determine the set of components that constitutes the operating segments by reference to the core principle.' },
  { id: 'q_ifrs8_10', moduleId: 'm_ifrs8', taxonomy: 'Apply', question: 'Segments A (8%), B (8%) share similar characteristics. Combined > 10%.', options: ['Report separately', 'Can aggregate to report', 'Ignore', 'Combine with "All Other"'], correctAnswer: 1, explanation: 'If they share similar characteristics and aggregation is consistent with the core principle, they can be aggregated to meet the threshold.' },

  // --- IFRS 9: Financial Instruments (m_ifrs9) ---
  { id: 'q_ifrs9_01', moduleId: 'm_ifrs9', taxonomy: 'Apply', question: 'Investment in shares (held for trading). Classification?', options: ['Amortized Cost', 'FVTOCI', 'FVTPL', 'Equity Method'], correctAnswer: 2, explanation: 'Held for trading equity instruments must be measured at Fair Value Through Profit or Loss.' },
  { id: 'q_ifrs9_02', moduleId: 'm_ifrs9', taxonomy: 'Analyze', question: 'Convertible Bond (Asset). Fails SPPI. Classification?', options: ['Amortized Cost', 'FVTOCI', 'FVTPL', 'Split Accounting'], correctAnswer: 2, explanation: 'If cash flows are not solely payments of principal and interest (due to conversion option), asset must be FVTPL.' },
  { id: 'q_ifrs9_03', moduleId: 'm_ifrs9', taxonomy: 'Understand', question: 'Transaction costs for FVTPL asset?', options: ['Capitalize', 'Expense', 'Equity', 'OCI'], correctAnswer: 1, explanation: 'Transaction costs for assets measured at FVTPL are expensed immediately.' },
  { id: 'q_ifrs9_04', moduleId: 'm_ifrs9', taxonomy: 'Apply', question: 'Amortized Cost calc: Initial $100. Effective Rate 10%. Coupon 5%. Closing CA?', options: ['$105', '$100', '$110', '$95'], correctAnswer: 0, explanation: '100 + (100*10%) - (100*5%) = 100 + 10 - 5 = 105.' },
  { id: 'q_ifrs9_05', moduleId: 'm_ifrs9', taxonomy: 'Evaluate', question: 'Credit risk increased significantly (Stage 2). Impairment?', options: ['12-month ECL', 'Lifetime ECL', 'None', 'Write off'], correctAnswer: 1, explanation: 'If credit risk has increased significantly since initial recognition, recognize Lifetime ECL.' },
  { id: 'q_ifrs9_06', moduleId: 'm_ifrs9', taxonomy: 'Analyze', question: 'Modification of bank loan: PV of new flows is 5% different. Treatment?', options: ['Derecognize old liability', 'Adjust Carrying Amount (Gain/Loss in P&L)', 'Spread over remaining term', 'Ignore'], correctAnswer: 1, explanation: 'Non-substantial modification (<10% diff). Adjust carrying amount to PV of new flows at original EIR. Recognize gain/loss in P&L.' },
  { id: 'q_ifrs9_07', moduleId: 'm_ifrs9', taxonomy: 'Remember', question: 'Hedge Accounting is:', options: ['Mandatory', 'Optional', 'Prohibited', 'Only for banks'], correctAnswer: 1, explanation: 'Hedge accounting is optional, provided qualifying criteria are met.' },
  { id: 'q_ifrs9_08', moduleId: 'm_ifrs9', taxonomy: 'Apply', question: 'Machine sold for $1000 due in 2 years (0% interest). Market rate 5%. Revenue?', options: ['$1000', 'PV of $1000 at 5%', '$0', '$1100'], correctAnswer: 1, explanation: 'Revenue is measured at Fair Value of consideration. Discount to PV if significant financing component exists.' },
  { id: 'q_ifrs9_09', moduleId: 'm_ifrs9', taxonomy: 'Evaluate', question: 'Purchased a Call Option. Classification?', options: ['Amortized Cost', 'FVTOCI', 'FVTPL', 'Compound'], correctAnswer: 2, explanation: 'Derivatives are always measured at FVTPL (unless effective hedging instrument).' },
  { id: 'q_ifrs9_10', moduleId: 'm_ifrs9', taxonomy: 'Understand', question: 'Reclassification of financial assets is allowed when?', options: ['Management decides', 'Market changes', 'Business Model changes', 'Never'], correctAnswer: 2, explanation: 'Only when an entity changes its business model for managing financial assets.' },

  // --- IFRS 10: Consolidated FS (m_ifrs10) ---
  { id: 'q_ifrs10_01', moduleId: 'm_ifrs10', taxonomy: 'Analyze', question: 'A owns 45% of B. Remaining 55% held by thousands of small investors. Control?', options: ['No', 'Yes (De facto control)', 'Joint Control', 'Significant Influence'], correctAnswer: 1, explanation: 'Practical ability to direct activities unilaterally due to dispersion of other holdings (De facto control).' },
  { id: 'q_ifrs10_02', moduleId: 'm_ifrs10', taxonomy: 'Apply', question: 'Investment Entity acquires subsidiary providing investment services. Treatment?', options: ['Consolidate', 'FVTPL', 'Equity Method', 'Cost'], correctAnswer: 0, explanation: 'Consolidate. Exemption from consolidation does not apply to subs providing services related to the entity\'s investment activities.' },
  { id: 'q_ifrs10_03', moduleId: 'm_ifrs10', taxonomy: 'Understand', question: 'Parent YE 31 Dec. Sub YE 30 Nov. Adjust?', options: ['Consolidate 30 Nov figures', 'Pro-rate', 'Adjust for significant transactions in Dec', 'Must change YE'], correctAnswer: 2, explanation: 'Allowed to use FS with diff date (max 3 months), but must adjust for significant transactions in the gap.' },
  { id: 'q_ifrs10_04', moduleId: 'm_ifrs10', taxonomy: 'Apply', question: 'NCI Fair Value method. Goodwill $100. Impairment $20. Parent owns 80%. NCI share of impairment?', options: ['$0', '$4', '$20', '$16'], correctAnswer: 1, explanation: 'Under Full Goodwill method (FV of NCI), impairment is allocated between Parent and NCI. 20 * 20% = 4.' },
  { id: 'q_ifrs10_05', moduleId: 'm_ifrs10', taxonomy: 'Apply', question: 'Unrealized Profit in Inventory (Downstream). $10. Parent owns 80%. Adjustment?', options: ['Dr Group RE $10', 'Dr Group RE $8, Dr NCI $2', 'Dr Revenue $10', 'Dr Cost of Sales $8'], correctAnswer: 0, explanation: 'Downstream (Parent to Sub): Profit is in Parent. Debit Group Retained Earnings $10 (full amount). Credit Inventory.' },
  { id: 'q_ifrs10_06', moduleId: 'm_ifrs10', taxonomy: 'Analyze', question: 'Loss of Control. Retained interest 10%. Treatment?', options: ['Consolidate', 'Equity Method', 'Financial Asset (FV)', 'Cost'], correctAnswer: 2, explanation: 'Recognize retained interest at Fair Value. Likely IFRS 9 Financial Asset (unless Significant Influence remains -> IAS 28).' },
  { id: 'q_ifrs10_07', moduleId: 'm_ifrs10', taxonomy: 'Evaluate', question: 'Rights to remove fund manager without cause (Kick-out rights). The manager is?', options: ['Principal', 'Agent', 'Controller', 'Owner'], correctAnswer: 1, explanation: 'If others can remove the decision maker without cause, the decision maker is an Agent and does not control.' },
  { id: 'q_ifrs10_08', moduleId: 'm_ifrs10', taxonomy: 'Understand', question: 'Protective Rights (e.g. Bank approval for major capex). Do they give control?', options: ['Yes', 'No', 'Maybe', 'Joint Control'], correctAnswer: 1, explanation: 'Protective rights are designed to protect the holder\'s interest but do not give power over relevant activities.' },
  { id: 'q_ifrs10_09', moduleId: 'm_ifrs10', taxonomy: 'Analyze', question: 'Structured Entity (Auto-pilot). Control determination?', options: ['Voting rights', 'Purpose and Design', 'Shareholding', 'Board seats'], correctAnswer: 1, explanation: 'For structured entities, voting rights may not be relevant. Assess power based on purpose, design, and risks.' },
  { id: 'q_ifrs10_10', moduleId: 'm_ifrs10', taxonomy: 'Apply', question: 'Parent sells 10% of Sub (still controls). Consideration $50. NCI CA adjusted by $40.', options: ['$10 Gain P&L', '$10 Credit Equity', '$10 Loss P&L', 'No entry'], correctAnswer: 1, explanation: 'Equity transaction. Difference between consideration and adjustment to NCI is recognized in Equity (Parent\'s). No P&L gain/loss.' },

  // --- IFRS 11: Joint Arrangements (m_ifrs11) ---
  { id: 'q_ifrs11_01', moduleId: 'm_ifrs11', taxonomy: 'Evaluate', question: 'Separate vehicle. Legal form confers rights to assets/obligations. Classification?', options: ['Joint Venture', 'Joint Operation', 'Associate', 'Subsidiary'], correctAnswer: 1, explanation: 'Even with a separate vehicle, if legal form or contract gives rights to assets/obligations, it is a Joint Operation.' },
  { id: 'q_ifrs11_02', moduleId: 'm_ifrs11', taxonomy: 'Understand', question: 'Unanimous consent required for "relevant activities".', options: ['Significant Influence', 'Control', 'Joint Control', 'No control'], correctAnswer: 2, explanation: 'Requirement for unanimous consent indicates Joint Control.' },
  { id: 'q_ifrs11_03', moduleId: 'm_ifrs11', taxonomy: 'Apply', question: 'Joint Operation. Operator A owns 50%. Machine cost $100. A\'s accounting?', options: ['Investment $50', 'PPE $50', 'PPE $100', 'Loan $50'], correctAnswer: 1, explanation: 'Recognize share of assets. Debit PPE $50.' },
  { id: 'q_ifrs11_04', moduleId: 'm_ifrs11', taxonomy: 'Apply', question: 'Joint Venture. Investor B owns 40%. Profit $100. Dividend $20. Equity Method balance increase?', options: ['$100', '$40', '$32', '$8'], correctAnswer: 2, explanation: 'Share of Profit (40) - Share of Dividend (8) = Net Increase 32. (Wait. Profit adds to investment, Dividend reduces it). Correct.' },
  { id: 'q_ifrs11_05', moduleId: 'm_ifrs11', taxonomy: 'Analyze', question: 'Venturer sells asset to Joint Operation (50% share). Gain $20.', options: ['Recognize $20', 'Recognize $10', 'Recognize $0', 'Defer'], correctAnswer: 1, explanation: 'Recognize gain only to the extent of other parties\' interests (50% * 20 = 10).' },
  { id: 'q_ifrs11_06', moduleId: 'm_ifrs11', taxonomy: 'Understand', question: 'Party to JO but NO joint control (rights to assets exist). Accounting?', options: ['Equity Method', 'Cost', 'Share of Assets/Liabs', 'IFRS 9'], correctAnswer: 2, explanation: 'Account for its share of assets/liabilities, revenue/expenses just like a joint operator.' },
  { id: 'q_ifrs11_07', moduleId: 'm_ifrs11', taxonomy: 'Remember', question: 'Can a Joint Venture be consolidated?', options: ['Yes, always', 'No, Equity Method', 'Yes, if Proportional', 'Only in Separate FS'], correctAnswer: 1, explanation: 'IFRS 11 requires Equity Method for Joint Ventures. Consolidation is not permitted.' },
  { id: 'q_ifrs11_08', moduleId: 'm_ifrs11', taxonomy: 'Apply', question: 'Losses in JV exceed investment carrying amount.', options: ['Recognize liability', 'Stop at zero (unless obligation)', 'Recognize against other assets', 'Write back'], correctAnswer: 1, explanation: 'Stop recognizing losses when investment is reduced to zero, unless legal/constructive obligation exists.' },
  { id: 'q_ifrs11_09', moduleId: 'm_ifrs11', taxonomy: 'Analyze', question: 'Arrangement designed to sell 100% output to owners. Classification?', options: ['Joint Venture', 'Joint Operation', 'Subsidiary', 'Associate'], correctAnswer: 1, explanation: 'If the arrangement prohibits selling to 3rd parties and owners take all output, they have rights to benefits of assets -> Joint Operation.' },
  { id: 'q_ifrs11_10', moduleId: 'm_ifrs11', taxonomy: 'Remember', question: 'Disclosure standard for Joint Arrangements?', options: ['IFRS 11', 'IFRS 12', 'IAS 24', 'IAS 1'], correctAnswer: 1, explanation: 'IFRS 12 contains the disclosure requirements for interests in other entities, including joint arrangements.' },

  // --- IFRS 12: Disclosure (m_ifrs12) ---
  { id: 'q_ifrs12_01', moduleId: 'm_ifrs12', taxonomy: 'Apply', question: 'Disclosure of significant assumptions used to determine:', options: ['Revenue', 'Control/Joint Control', 'Depreciation', 'Tax'], correctAnswer: 1, explanation: 'Must disclose judgements and assumptions made in determining control, joint control, or significant influence.' },
  { id: 'q_ifrs12_02', moduleId: 'm_ifrs12', taxonomy: 'Understand', question: 'Summarized financial information required for?', options: ['All subs', 'Material JVs and Associates', 'Immaterial investments', 'Trade receivables'], correctAnswer: 1, explanation: 'Required for each material joint venture and associate.' },
  { id: 'q_ifrs12_03', moduleId: 'm_ifrs12', taxonomy: 'Evaluate', question: 'Investment Entity status.', options: ['No disclosure', 'Disclose fact and judgements', 'Disclose consolidation method', 'Disclose tax'], correctAnswer: 1, explanation: 'Must disclose the fact that it is an investment entity and the significant judgements/assumptions.' },
  { id: 'q_ifrs12_04', moduleId: 'm_ifrs12', taxonomy: 'Analyze', question: 'Sponsorship of unconsolidated structured entities (no interest held).', options: ['No disclosure', 'Disclose income from sponsorship', 'Disclose assets of entity', 'Disclose board names'], correctAnswer: 1, explanation: 'Must disclose income arising from, and transfer of assets to, structured entities that the entity sponsors but holds no interest in.' },
  { id: 'q_ifrs12_05', moduleId: 'm_ifrs12', taxonomy: 'Remember', question: 'Nature of risks in JVs?', options: ['Credit risk', 'Market risk', 'Commitments and Contingent Liabilities', 'Operational risk'], correctAnswer: 2, explanation: 'Must disclose commitments and contingent liabilities in respect of joint ventures.' },
  { id: 'q_ifrs12_06', moduleId: 'm_ifrs12', taxonomy: 'Apply', question: 'Material NCI. What to disclose?', options: ['Name and % only', 'Summarized financial info of sub', 'Parent financial info', 'Nothing'], correctAnswer: 1, explanation: 'Summarized financial information of the subsidiary is required to enable users to understand the NCI interest.' },
  { id: 'q_ifrs12_07', moduleId: 'm_ifrs12', taxonomy: 'Understand', question: 'Scope exemption?', options: ['Employee benefit plans', 'Subsidiaries', 'Joint Ventures', 'Associates'], correctAnswer: 0, explanation: 'IFRS 12 does not apply to interests in employee benefit plans (IAS 19).' },
  { id: 'q_ifrs12_08', moduleId: 'm_ifrs12', taxonomy: 'Apply', question: 'Current/Non-current distinction in summarized info?', options: ['Not required', 'Required for Assets/Liabs', 'Required for Equity', 'Optional'], correctAnswer: 1, explanation: 'Summarized financial info must distinguish between current/non-current assets and liabilities.' },
  { id: 'q_ifrs12_09', moduleId: 'm_ifrs12', taxonomy: 'Remember', question: 'Dividends received from associates?', options: ['Disclose separately', 'Net off investment', 'Ignore', 'Include in revenue'], correctAnswer: 0, explanation: 'Must disclose dividends received from associates/JVs.' },
  { id: 'q_ifrs12_10', moduleId: 'm_ifrs12', taxonomy: 'Analyze', question: 'Support provided to structured entity without obligation?', options: ['Do not disclose', 'Disclose type and amount', 'Recognize provision', 'Restate'], correctAnswer: 1, explanation: 'Must disclose the type and amount of support provided (financial or other) to a consolidated or unconsolidated structured entity without a contractual obligation.' },

  // --- IFRS 13: Fair Value Measurement (m_ifrs13) ---
  { id: 'q_ifrs13_01', moduleId: 'm_ifrs13', taxonomy: 'Apply', question: 'Asset can be sold in Market A ($100, cost $2) or Market B ($105, cost $8). A is Principal. FV?', options: ['$100', '$98', '$105', '$97'], correctAnswer: 0, explanation: 'Price in Principal Market (A) is $100. Transaction costs ($2) are NOT deducted for FV (though used to determine net proceeds). Transport costs are deducted, but none listed. So $100.' },
  { id: 'q_ifrs13_02', moduleId: 'm_ifrs13', taxonomy: 'Analyze', question: 'No principal market. Market A (Net $98). Market B (Net $97). FV?', options: ['$100 (Price A)', '$98 (Net A)', '$105 (Price B)', '$100'], correctAnswer: 0, explanation: 'Select Most Advantageous Market (Highest Net: Market A). FV is the PRICE in that market ($100), not the net amount. (Assuming Price A is $100 based on previous Q logic, assuming transaction costs). Wait. Definition: FV is price... before transaction costs. Market A gives net 98. Market B gives net 97. Most advantageous is A. FV is Price in A.' },
  { id: 'q_ifrs13_03', moduleId: 'm_ifrs13', taxonomy: 'Understand', question: 'Highest and Best Use applies to?', options: ['Financial Assets', 'Liabilities', 'Non-financial Assets', 'Equity'], correctAnswer: 2, explanation: 'Concept applies to non-financial assets (e.g. Land, Buildings) where alternative uses could maximize value.' },
  { id: 'q_ifrs13_04', moduleId: 'm_ifrs13', taxonomy: 'Remember', question: 'Level 1 Input?', options: ['Interest rates', 'Unadjusted quoted prices in active markets', 'Broker quotes', 'Cash flow forecast'], correctAnswer: 1, explanation: 'Unadjusted quoted prices in active markets for identical assets/liabilities.' },
  { id: 'q_ifrs13_05', moduleId: 'm_ifrs13', taxonomy: 'Apply', question: 'Level 3 Input example?', options: ['Stock price', 'LIBOR rate', 'Entity\'s own profit forecast', 'Price of similar asset'], correctAnswer: 2, explanation: 'Unobservable inputs developed using the best information available (e.g. own forecasts).' },
  { id: 'q_ifrs13_06', moduleId: 'm_ifrs13', taxonomy: 'Evaluate', question: 'Valuation technique change?', options: ['Policy Change (Retrospective)', 'Change in Estimate (Prospective)', 'Error correction', 'Not allowed'], correctAnswer: 1, explanation: 'Change in valuation technique is accounted for as a change in accounting estimate (Prospective).' },
  { id: 'q_ifrs13_07', moduleId: 'm_ifrs13', taxonomy: 'Analyze', question: 'Liability Fair Value reflects?', options: ['Credit Standing (Non-performance risk)', 'Asset value', 'Risk-free rate only', 'Historical cost'], correctAnswer: 0, explanation: 'Must reflect the effect of non-performance risk (own credit risk).' },
  { id: 'q_ifrs13_08', moduleId: 'm_ifrs13', taxonomy: 'Apply', question: 'Bid-Ask spread. Asset position. Price to use?', options: ['Bid Price', 'Ask Price', 'Mid Market', 'Price within spread'], correctAnswer: 3, explanation: 'IFRS 13 allows use of prices within the bid-ask spread that are most representative of fair value (e.g. Mid). Traditionally Asset=Bid, Liab=Ask, but IFRS 13 is flexible.' },
  { id: 'q_ifrs13_09', moduleId: 'm_ifrs13', taxonomy: 'Remember', question: 'Unit of Account?', options: ['Portfolio always', 'Defined by specific standard', 'Individual asset only', 'Management choice'], correctAnswer: 1, explanation: 'Determined in accordance with the IFRS that requires or permits the fair value measurement.' },
  { id: 'q_ifrs13_10', moduleId: 'm_ifrs13', taxonomy: 'Analyze', question: 'Deferred Day 1 Gain? (Transaction price != FV)', options: ['Recognize immediately', 'Defer and amortize/recognize when observable', 'Ignore', 'Equity'], correctAnswer: 1, explanation: 'If FV is not based on quoted price/observable data, the difference (Day 1 gain) is deferred.' },

  // --- IFRS 15: Revenue (m_ifrs15) ---
  { id: 'q_ifrs15_01', moduleId: 'm_ifrs15', taxonomy: 'Apply', question: 'Contract price $1m. Bonus $100k if complete by Dec. 60% chance yes. Rev?', options: ['$1.1m', '$1m', '$1.06m', '$0'], correctAnswer: 1, explanation: 'With a binary outcome, use "Most Likely Amount" ($1.1m). However, apply the constraint: Is it highly probable no reversal will occur? 60% is not highly probable. Recognize $1m (minimum).' },
  { id: 'q_ifrs15_02', moduleId: 'm_ifrs15', taxonomy: 'Analyze', question: 'Bundle: Phone (SSP $500) + Plan (SSP $500). Sold for $800. Rev for Phone?', options: ['$400', '$500', '$800', '$450'], correctAnswer: 0, explanation: 'Allocate transaction price based on relative SSP. Total SSP = 1000. Phone share = 500/1000 = 50%. 50% of $800 = $400.' },
  { id: 'q_ifrs15_03', moduleId: 'm_ifrs15', taxonomy: 'Understand', question: 'Repurchase Agreement (Call Option). Customer paid. Accounting?', options: ['Revenue', 'Lease', 'Financing Arrangement (Liability)', 'Sale with return'], correctAnswer: 2, explanation: 'If entity has right/obligation to repurchase asset, control has not transferred. Recognized as financing arrangement (cash received = liability).' },
  { id: 'q_ifrs15_04', moduleId: 'm_ifrs15', taxonomy: 'Evaluate', question: 'Consignment arrangement (Inventory held by dealer). Revenue?', options: ['When shipped to dealer', 'When dealer sells to end customer', 'When dealer pays', 'Never'], correctAnswer: 1, explanation: 'Revenue recognized when control transfers. In consignment, dealer does not control until sale to 3rd party or specified period expires.' },
  { id: 'q_ifrs15_05', moduleId: 'm_ifrs15', taxonomy: 'Apply', question: 'Bill-and-Hold. Customer requests delay. Product ready. Revenue?', options: ['Recognize (Performance Obligation satisfied)', 'Wait for delivery', 'Deposit', 'Liability'], correctAnswer: 0, explanation: 'Recognize if specific criteria met: Reason for bill-and-hold (customer request), product identified separately, ready for transfer, entity cannot use it.' },
  { id: 'q_ifrs15_06', moduleId: 'm_ifrs15', taxonomy: 'Remember', question: 'Contract Asset definition?', options: ['Unconditional right to cash', 'Right to consideration conditioned on performance', 'Advance payment', 'Cost to obtain'], correctAnswer: 1, explanation: 'Right to consideration in exchange for goods/services transferred, conditioned on something other than passage of time.' },
  { id: 'q_ifrs15_07', moduleId: 'm_ifrs15', taxonomy: 'Analyze', question: 'Software License: Right to Access vs Right to Use?', options: ['Access = Point in time', 'Access = Over time', 'Use = Over time', 'Both same'], correctAnswer: 1, explanation: 'Right to Access (Intellectual Property changes) -> Over Time. Right to Use (IP is static at point of grant) -> Point in Time.' },
  { id: 'q_ifrs15_08', moduleId: 'm_ifrs15', taxonomy: 'Apply', question: 'Sale with Right of Return. 100 units sold @ $10. 5 returns expected.', options: ['Rev $1000', 'Rev $950, Refund Liab $50', 'Rev $0', 'Provision $50'], correctAnswer: 1, explanation: 'Recognize revenue only for products not expected to be returned ($950). Recognize Refund Liability for expected returns ($50).' },
  { id: 'q_ifrs15_09', moduleId: 'm_ifrs15', taxonomy: 'Understand', question: 'Step 1: Contract Criteria?', options: ['Written only', 'Approved, Rights ID, Payment Terms, Commercial Substance, Probable Collection', 'Signed', 'Cash received'], correctAnswer: 1, explanation: 'All 5 criteria (Approved, Rights, Terms, Substance, Probable Collection) must be met.' },
  { id: 'q_ifrs15_10', moduleId: 'm_ifrs15', taxonomy: 'Evaluate', question: 'Non-refundable upfront fee (Joining fee). Service period 1 year.', options: ['Revenue immediately', 'Spread over 1 year', 'Refund liability', 'Equity'], correctAnswer: 1, explanation: 'Upfront fee usually does not transfer a distinct good/service. It is an advance payment for future services. Recognize over service period.' },

  // --- IFRS 16: Leases (m_ifrs16) ---
  { id: 'q_ifrs16_01', moduleId: 'm_ifrs16', taxonomy: 'Apply', question: 'Lease: 5 years. Pay $10k/yr in arrears. Rate 5%. PV $43,295. Depn (Lessee)?', options: ['$10,000', '$8,659', '$2,165', '$0'], correctAnswer: 1, explanation: 'ROU Asset is depreciated over lease term (5 yrs) if ownership doesn\'t transfer. $43,295 / 5 = $8,659.' },
  { id: 'q_ifrs16_02', moduleId: 'm_ifrs16', taxonomy: 'Analyze', question: 'Lease term: 5 yrs fixed + 5 yrs renewal option. Lessee "reasonably certain" to renew.', options: ['Term = 5 yrs', 'Term = 10 yrs', 'Term = 7 yrs', 'Disclosure'], correctAnswer: 1, explanation: 'Lease term includes periods covered by option to extend if lessee is reasonably certain to exercise.' },
  { id: 'q_ifrs16_03', moduleId: 'm_ifrs16', taxonomy: 'Understand', question: 'Lessor: Finance Lease definition?', options: ['Transfer substantially all risks/rewards', 'Title transfer only', 'Short term', 'Low value'], correctAnswer: 0, explanation: 'A lease is a finance lease if it transfers substantially all the risks and rewards incidental to ownership.' },
  { id: 'q_ifrs16_04', moduleId: 'm_ifrs16', taxonomy: 'Apply', question: 'Short-term lease exemption elected. Rent $1000/m. Rent-free month 1.', options: ['Exp $0 M1, $1000 M2', 'Exp $917/m', 'Exp $1000/m', 'Asset'], correctAnswer: 1, explanation: 'Total rent (11 * 1000) = 11,000. Spread straight-line over 12 months = $917/month.' },
  { id: 'q_ifrs16_05', moduleId: 'm_ifrs16', taxonomy: 'Evaluate', question: 'Sale and Leaseback. SP $100 (FV). CA $60. PV Lease Pay $40. Gain?', options: ['$40', '$24', '$16', '$0'], correctAnswer: 1, explanation: 'Gain restricted to rights transferred. Rights Retained = PV/FV = 40/100 = 40%. Rights Transferred = 60%. Total Gain (100-60) = 40. Recognized Gain = 40 * 60% = 24.' },
  { id: 'q_ifrs16_06', moduleId: 'm_ifrs16', taxonomy: 'Remember', question: 'Low-value asset threshold (guidance)?', options: ['$1,000', '$5,000', '$10,000', '$50,000'], correctAnswer: 1, explanation: 'Standard mentions $5,000 USD (when new) as an example of low value.' },
  { id: 'q_ifrs16_07', moduleId: 'm_ifrs16', taxonomy: 'Analyze', question: 'Variable payments based on sales (Retail store lease).', options: ['Include in Liability', 'Expense as incurred', 'Estimate and Capitalize', 'Disclose only'], correctAnswer: 1, explanation: 'Variable payments NOT based on an index or rate (e.g. sales-based) are expensed in P&L when the event occurs.' },
  { id: 'q_ifrs16_08', moduleId: 'm_ifrs16', taxonomy: 'Apply', question: 'Initial Direct Costs (Lessee)?', options: ['Expense', 'Add to ROU Asset', 'Deduct from Liability', 'Equity'], correctAnswer: 1, explanation: 'Incremental costs of obtaining a lease are added to the cost of the Right-of-Use Asset.' },
  { id: 'q_ifrs16_09', moduleId: 'm_ifrs16', taxonomy: 'Understand', question: 'Separating components (Lease vs Non-lease/Service)?', options: ['Must separate', 'Can elect to combine (practical expedient)', 'Ignore service', 'Allocate all to service'], correctAnswer: 1, explanation: 'Lessees can elect, by class of underlying asset, not to separate non-lease components and account for total as a lease.' },
  { id: 'q_ifrs16_10', moduleId: 'm_ifrs16', taxonomy: 'Evaluate', question: 'Lease Liability at Year End?', options: ['Amortized Cost', 'Fair Value', 'Undiscounted', 'Revalued'], correctAnswer: 0, explanation: 'Measured at amortized cost using the effective interest method (reduce by payments, increase by interest).' },

  // --- IFRS 17: Insurance Contracts (m_ifrs17) ---
  { id: 'q_ifrs17_01', moduleId: 'm_ifrs17', taxonomy: 'Remember', question: 'IFRS 17 replaces which standard?', options: ['IAS 39', 'IFRS 4', 'IFRS 9', 'IAS 37'], correctAnswer: 1, explanation: 'IFRS 17 replaces IFRS 4 Insurance Contracts.' },
  { id: 'q_ifrs17_02', moduleId: 'm_ifrs17', taxonomy: 'Understand', question: 'What is the Risk Adjustment?', options: ['Reserve for bad debts', 'Compensation for bearing non-financial risk', 'Profit margin', 'Discount factor'], correctAnswer: 1, explanation: 'The compensation an entity requires for bearing the uncertainty about the amount and timing of cash flows (non-financial risk).' },
  { id: 'q_ifrs17_03', moduleId: 'm_ifrs17', taxonomy: 'Apply', question: 'Contract issued. PV Inflows $100. PV Outflows $80. Risk Adj $5. CSM?', options: ['$15', '$20', '$0', '$25'], correctAnswer: 0, explanation: 'Inflows (100) - Outflows (80) - Risk Adj (5) = Net Inflow 15. CSM is set up to eliminate day 1 gain -> CSM = 15.' },
  { id: 'q_ifrs17_04', moduleId: 'm_ifrs17', taxonomy: 'Analyze', question: 'Group of contracts is Onerous at inception. PV Outflows > PV Inflows.', options: ['Recognize CSM (negative)', 'Recognize Loss in P&L immediately', 'Defer Loss', 'Net off other groups'], correctAnswer: 1, explanation: 'Losses on onerous groups are recognized immediately in Profit or Loss. CSM cannot be negative.' },
  { id: 'q_ifrs17_05', moduleId: 'm_ifrs17', taxonomy: 'Evaluate', question: 'Premium Allocation Approach (PAA) eligibility?', options: ['All contracts', 'Long-term only', 'Coverage <= 1 year or similar to GMM', 'Variable fee contracts'], correctAnswer: 2, explanation: 'An optional simplified model for contracts with coverage period of one year or less, or if it produces similar results to GMM.' },
  { id: 'q_ifrs17_06', moduleId: 'm_ifrs17', taxonomy: 'Apply', question: 'Reinsurance Contract Held. Net cost at inception (Loss).', options: ['Expense immediately', 'Recognize CSM (Asset)', 'Ignore', 'Liability'], correctAnswer: 1, explanation: 'For reinsurance held, a net cost (premium paid > expected recovery) is recognized as a CSM (deferred expense), not immediate loss.' },
  { id: 'q_ifrs17_07', moduleId: 'm_ifrs17', taxonomy: 'Understand', question: 'CSM release pattern?', options: ['Straight line', 'Based on coverage units (service provided)', 'Based on cash flows', 'At end of contract'], correctAnswer: 1, explanation: 'CSM is recognized in P&L as insurance revenue over the coverage period based on coverage units (quantity of service provided).' },
  { id: 'q_ifrs17_08', moduleId: 'm_ifrs17', taxonomy: 'Analyze', question: 'Investment Component (deposit)?', options: ['Revenue', 'Excluded from Revenue/Expense', 'Other Income', 'Insurance Service Result'], correctAnswer: 1, explanation: 'Amounts that must be repaid to policyholder regardless of insured event (investment components) are excluded from insurance revenue and service expenses.' },
  { id: 'q_ifrs17_09', moduleId: 'm_ifrs17', taxonomy: 'Remember', question: 'Discount rate update?', options: ['Locked in at inception', 'Updated at each reporting date (Current)', 'Risk-free only', 'WACC'], correctAnswer: 1, explanation: 'IFRS 17 requires use of current discount rates at each reporting date (unlike the old IFRS 4 which often locked rates).' },
  { id: 'q_ifrs17_10', moduleId: 'm_ifrs17', taxonomy: 'Evaluate', question: 'Variable Fee Approach applies to?', options: ['Term Life', 'Car Insurance', 'Unit-linked Contracts (Direct Participation)', 'Reinsurance'], correctAnswer: 2, explanation: 'Applies to insurance contracts with direct participation features where policyholders share in the returns of a pool of underlying items.' },
];

const SAMPLE_PRACTICE_QUESTIONS: PracticeQuestion[] = [
  {
    id: 'pq_01',
    title: 'Gamma Co (IFRS 15)',
    topic: 'Revenue',
    year: 'Dec 2023',
    marks: 10,
    scenario: 'Gamma Co entered into a contract to build a specialized asset for a customer. The contract price is $5m. Gamma cannot redirect the asset to another customer and has an enforceable right to payment for performance completed to date.',
    solution: 'This contract meets the criteria for revenue recognition OVER TIME under IFRS 15.\n\n1. The asset has no alternative use to Gamma.\n2. Gamma has an enforceable right to payment.\n\nRevenue should be recognized based on progress towards complete satisfaction of the performance obligation.',
    examinerComment: 'Many students failed to apply the criteria for over-time recognition specifically, assuming point in time.',
    taxonomy: 'Apply'
  },
  {
    id: 'pq_02',
    title: 'Delta Group (Consolidation)',
    topic: 'Group Accounting',
    year: 'June 2024',
    marks: 25,
    scenario: 'Delta acquired 80% of Epsilon on 1 Jan 2024. The consideration was $10m cash. The fair value of NCI at acquisition was $2m. Net assets of Epsilon were $8m.',
    solution: 'Goodwill Calculation:\nCost of Investment: $10.0m\nFair Value of NCI: $2.0m\nLess: Net Assets at Acq: ($8.0m)\nGoodwill at Acquisition: $4.0m',
    taxonomy: 'Create'
  },
  {
    id: 'pq_03',
    title: 'Omega Inc (Financial Instruments)',
    topic: 'Financial Instruments',
    year: 'June 2023',
    marks: 15,
    scenario: 'Omega Inc issued a convertible bond for $5m. The bond pays interest at 2%. Market rate for similar debt without conversion option is 6%.',
    solution: 'This is a compound financial instrument (IAS 32).\nIt must be split into Liability and Equity components.\n\n1. Liability = PV of future cash flows discounted at 6%.\n2. Equity = Proceeds ($5m) - Liability Component.',
    examinerComment: 'Good performance on the calculation, but presentation in the Statement of Changes in Equity was often omitted.',
    taxonomy: 'Analyze'
  }
];

const SAMPLE_MOCK_EXAMS: MockExamDef[] = [
  {
    id: 'mock_01',
    title: 'Mock Exam A (Dec 2024 Pattern)',
    durationMinutes: 180,
    questions: [
      {
        title: 'Question 1: Consolidation (Alpha Group)',
        marks: 25,
        scenario: 'Alpha acquired Beta on 1 July 20X5. Prepare the Consolidated Statement of Financial Position as at 31 December 20X5.',
        requirements: ['Calculate Goodwill', 'Calculate Non-controlling Interest', 'Prepare Consolidated SOFP']
      },
      {
        title: 'Question 2: Revenue & Provisions',
        marks: 25,
        scenario: 'Two distinct scenarios:\n1. A construction contract with variable consideration.\n2. A restructuring plan announced before year-end.',
        requirements: ['Advise on revenue recognition (IFRS 15)', 'Advise on provision for restructuring (IAS 37)']
      },
      {
        title: 'Question 3: Financial Assets & Leases',
        marks: 25,
        scenario: 'Purchase of equity investments and entering a 5-year lease for machinery.',
        requirements: ['Discuss classification of financial assets (IFRS 9)', 'Calculate Right-of-Use Asset and Lease Liability (IFRS 16)']
      },
      {
        title: 'Question 4: Ethics & Conceptual Framework',
        marks: 25,
        scenario: 'The Financial Controller is asked to delay recording an invoice to meet profit targets.',
        requirements: ['Identify ethical threats', 'Discuss "Faithful Representation"']
      }
    ]
  }
];

// --- DN ON NY VO CUI FILE dataService.ts ---

export const getFlashcards = (moduleId: string): Flashcard[] => {
  // Kim tra an ton xem bin c tn ti khng
  if (typeof SAMPLE_FLASHCARDS_DB === 'undefined') return [];
  
  const results = SAMPLE_FLASHCARDS_DB.filter(item => item.moduleId === moduleId);
  console.log(` Ly Flashcard cho ${moduleId}: Tm thy ${results.length}`);
  return results;
};

export const getQuizQuestions = (moduleId: string): QuizQuestion[] => {
  // Kim tra an ton
  if (typeof SAMPLE_QUIZ_DB === 'undefined') return [];

  const results = SAMPLE_QUIZ_DB.filter(item => item.moduleId === moduleId);
  console.log(` Ly Quiz cho ${moduleId}: Tm thy ${results.length}`);
  return results;
};
  getPracticeQuestions: async (): Promise<PracticeQuestion[]> => {
    await new Promise(resolve => setTimeout(resolve, 300));
    return SAMPLE_PRACTICE_QUESTIONS;
  },

  getMockExams: async (): Promise<MockExamDef[]> => {
    await new Promise(resolve => setTimeout(resolve, 300));
    return SAMPLE_MOCK_EXAMS;
  }
};
